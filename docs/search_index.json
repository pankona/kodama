{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["@pankona","https://github.com/pankona/kodama","https://pankona.github.io/kodama/","url","です。","で管理しています。","は","文書は","文責は","本資料について","本資料のホスティング先","本資料は、2019/01、某所で用いるために作成しています。"],"design.html":["(5","(web","(あるいは","(しても性能があがらない可能性)","(ポーリング)","(指定に誤りがある、ダウンしている、ネットワーク不調、など)","(非同期ジョブシステム側からのプッシュ通知)","/","5","api","applic","balanc","crud","db","db。rest","grpc","job","load","push","queue","server","stream","url","web","websocket、grpc","worker","「一定期間」は、ジョブ登録時にパラメータとして添えられる","「実行中」のジョブについて","あるいは","からのプッシュ通知)、ジョブが投入されていれば取り出して実行する。","から使われる。crud","がジョブ実行途中で死んでしまったり、通信不調等の理由で実行結果の通知ができない場合、ジョブが実行中のままになってしまう可能性がある","が何らかの理由でリーチできない","が分かれている構成を検討した","が指定された","が指定できる)","これは可能か？どのような制約をつければ実現できるか？","することによってなされることを想定している。","そのため、「実行中」状態のジョブは一定期間が過ぎると「実行待ち」に自動的に戻るようにしておく。","で","で通知する。","と","という理由で、job","と切り離した形を想定しておく。","にジョブ実行結果をポストする。","に入れて永続化する機能として想定した","に反映する。","に定期的に監視し","に結果を通知","の","は、一定期間が過ぎたジョブに対しては結果通知をせずに終了するのが望ましいが、実行済の処理をなかったことにできない場合も考えられるし、タイミングによっては結果の通知が行われてしまうこともありうる。","は、処理内容によっては大量にインスタンスが必要になる場合もありえそうなため、スケールアウトしやすい形にしておく。","は、投入されたジョブを","はスケールアウトする等で複数になる可能性がある。","は管理者にエラーを通知する。","ようにしておく。","を上回って失敗した場合、api","を分けておくほうが都合が良い","を提供する。","を添えておく方式。ワーカー、もしくは","を用いてジョブの実行結果を","を考える場合、例えば以下のような方式で実現できる。","を逐次実行する","アプリケーションから共通で使える非同期ジョブの基盤を提供する","ウェブアプリケーション。本非同期ジョブシステムを用いる主体。","エラー理由を添えることができる","エラー通知の方法は、メール、slack","オンメモリでもある程度可能かもしれないが、job","コネクションが張られていないタイミングで結果の通知が行われてしまう場合に、結果が失われないようにケアする必要がある。","コネクション張りっぱなし系の実現方法。処理が終わり次第、システム側から","コールバック","ジョブが、規定のリトライ回数","ジョブは以下の状態を持つ。","ジョブをいったん蓄えるためのサービスと","ジョブを実行する部分。","ジョブ投入時に結果通知先の","ジョブ状態変更","ジョブ状態確認","ジョブ登録","ジョブ終了時の結果通知","プロセスが死ぬと実行待ちジョブが失われる可能性があったり、大量のジョブが投入されたときにメモリに保持しきれなくなる、等の理由でオススメできないと考えた","モジュール構成図","ワーカーが実行中のジョブ","ワーカーによって処理されるのを待っている状態のジョブ","一定期間が過ぎると「実行待ち」に戻る","一方、ジョブが完了し次第通知する形","主な機能は以下。","主要機能のシーケンス図","先述のシーケンス図では、ジョブの成否、ないし進捗の確認はユーザーがジョブの状態取得","各モジュールの主な役割","回)","回リトライする","回失敗した非同期ジョブはシステム管理者にエラー通知する","場合があると思われるので、crud","場合に、結果が失われないようにケアする必要がある。","大量にリクエストがくる場合に備えて、スケールアウトしやすいよう","失敗終了","実行中","実行待ち","実行待ちジョブ取り出し","対象となるのは時間がかかる処理。例えば、動画のエンコーディングや大量のサムネイルの作成など。","本制限のため、本システムでは「同一のジョブが二回以上実行される」場合がありうる。","本非同期ジョブシステムの入り口。rest","正常終了","等の形で","等へのポストを行うことを想定。","管理者へのエラー通知","結果を通知する前にコネクションが切れてしまう場合は、貼り直す必要がある。結果通知時には少なくともコネクションが張られている必要がある。","複数の","複数のインスタンスが立ち上がっている等して、複数同時に存在する可能性もあるとする。","要件","諸々補足","負荷を分散するためにロードバランサーを置く。","送信先が大量である等でそれなりに通知処理に時間が掛かることが想定される場合は、別途非同期ジョブシステムを用いて通知処理を行う必要がありそう。","通知","通知先の","部分。","部分はスケールアウトしにくい","非同期ジョブが失敗した場合は、自動的に","非同期ジョブが終了したら、成否に関わらず結果をユーザに通知したい。","非同期ジョブシステムの入り口になる後述の","非同期ジョブシステム設計"],"reference.html":["(メッセージキューサービス)","amazon","aw","doc","microsoft","queue","servic","simpl","sq","web","worker","|","〜","でジョブ","の巻","を構成するベストプラクティス","キュー","スタイル","ワーカーのアーキテクチャ","参照したウェブページのうち、めぼしいところを抜粋","参考文献"]},"length":3},"tokenStore":{"root":{"5":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}}},"docs":{},"@":{"docs":{},"p":{"docs":{},"a":{"docs":{},"n":{"docs":{},"k":{"docs":{},"o":{"docs":{},"n":{"docs":{},"a":{"docs":{"./":{"ref":"./","tf":0.07692307692307693}}}}}}}}}},"h":{"docs":{},"t":{"docs":{},"t":{"docs":{},"p":{"docs":{},"s":{"docs":{},":":{"docs":{},"/":{"docs":{},"/":{"docs":{},"g":{"docs":{},"i":{"docs":{},"t":{"docs":{},"h":{"docs":{},"u":{"docs":{},"b":{"docs":{},".":{"docs":{},"c":{"docs":{},"o":{"docs":{},"m":{"docs":{},"/":{"docs":{},"p":{"docs":{},"a":{"docs":{},"n":{"docs":{},"k":{"docs":{},"o":{"docs":{},"n":{"docs":{},"a":{"docs":{},"/":{"docs":{},"k":{"docs":{},"o":{"docs":{},"d":{"docs":{},"a":{"docs":{},"m":{"docs":{},"a":{"docs":{"./":{"ref":"./","tf":0.07692307692307693}}}}}}}}}}}}}}}}}}}}}}}}}}},"p":{"docs":{},"a":{"docs":{},"n":{"docs":{},"k":{"docs":{},"o":{"docs":{},"n":{"docs":{},"a":{"docs":{},".":{"docs":{},"g":{"docs":{},"i":{"docs":{},"t":{"docs":{},"h":{"docs":{},"u":{"docs":{},"b":{"docs":{},".":{"docs":{},"i":{"docs":{},"o":{"docs":{},"/":{"docs":{},"k":{"docs":{},"o":{"docs":{},"d":{"docs":{},"a":{"docs":{},"m":{"docs":{},"a":{"docs":{},"/":{"docs":{"./":{"ref":"./","tf":0.07692307692307693}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"u":{"docs":{},"r":{"docs":{},"l":{"docs":{"./":{"ref":"./","tf":0.07692307692307693},"design.html":{"ref":"design.html","tf":0.024390243902439025}}}}},"で":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}},"す":{"docs":{},"。":{"docs":{"./":{"ref":"./","tf":0.15384615384615385}}}},"管":{"docs":{},"理":{"docs":{},"し":{"docs":{},"て":{"docs":{},"い":{"docs":{},"ま":{"docs":{},"す":{"docs":{},"。":{"docs":{"./":{"ref":"./","tf":0.07692307692307693}}}}}}}}}},"通":{"docs":{},"知":{"docs":{},"す":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}},"は":{"docs":{"./":{"ref":"./","tf":0.07692307692307693}},"、":{"docs":{},"一":{"docs":{},"定":{"docs":{},"期":{"docs":{},"間":{"docs":{},"が":{"docs":{},"過":{"docs":{},"ぎ":{"docs":{},"た":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"に":{"docs":{},"対":{"docs":{},"し":{"docs":{},"て":{"docs":{},"は":{"docs":{},"結":{"docs":{},"果":{"docs":{},"通":{"docs":{},"知":{"docs":{},"を":{"docs":{},"せ":{"docs":{},"ず":{"docs":{},"に":{"docs":{},"終":{"docs":{},"了":{"docs":{},"す":{"docs":{},"る":{"docs":{},"の":{"docs":{},"が":{"docs":{},"望":{"docs":{},"ま":{"docs":{},"し":{"docs":{},"い":{"docs":{},"が":{"docs":{},"、":{"docs":{},"実":{"docs":{},"行":{"docs":{},"済":{"docs":{},"の":{"docs":{},"処":{"docs":{},"理":{"docs":{},"を":{"docs":{},"な":{"docs":{},"か":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"に":{"docs":{},"で":{"docs":{},"き":{"docs":{},"な":{"docs":{},"い":{"docs":{},"場":{"docs":{},"合":{"docs":{},"も":{"docs":{},"考":{"docs":{},"え":{"docs":{},"ら":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"し":{"docs":{},"、":{"docs":{},"タ":{"docs":{},"イ":{"docs":{},"ミ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"に":{"docs":{},"よ":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"は":{"docs":{},"結":{"docs":{},"果":{"docs":{},"の":{"docs":{},"通":{"docs":{},"知":{"docs":{},"が":{"docs":{},"行":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"し":{"docs":{},"ま":{"docs":{},"う":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"も":{"docs":{},"あ":{"docs":{},"り":{"docs":{},"う":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"処":{"docs":{},"理":{"docs":{},"内":{"docs":{},"容":{"docs":{},"に":{"docs":{},"よ":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"は":{"docs":{},"大":{"docs":{},"量":{"docs":{},"に":{"docs":{},"イ":{"docs":{},"ン":{"docs":{},"ス":{"docs":{},"タ":{"docs":{},"ン":{"docs":{},"ス":{"docs":{},"が":{"docs":{},"必":{"docs":{},"要":{"docs":{},"に":{"docs":{},"な":{"docs":{},"る":{"docs":{},"場":{"docs":{},"合":{"docs":{},"も":{"docs":{},"あ":{"docs":{},"り":{"docs":{},"え":{"docs":{},"そ":{"docs":{},"う":{"docs":{},"な":{"docs":{},"た":{"docs":{},"め":{"docs":{},"、":{"docs":{},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"ア":{"docs":{},"ウ":{"docs":{},"ト":{"docs":{},"し":{"docs":{},"や":{"docs":{},"す":{"docs":{},"い":{"docs":{},"形":{"docs":{},"に":{"docs":{},"し":{"docs":{},"て":{"docs":{},"お":{"docs":{},"く":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"投":{"docs":{},"入":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"た":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"を":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"ア":{"docs":{},"ウ":{"docs":{},"ト":{"docs":{},"す":{"docs":{},"る":{"docs":{},"等":{"docs":{},"で":{"docs":{},"複":{"docs":{},"数":{"docs":{},"に":{"docs":{},"な":{"docs":{},"る":{"docs":{},"可":{"docs":{},"能":{"docs":{},"性":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}},"管":{"docs":{},"理":{"docs":{},"者":{"docs":{},"に":{"docs":{},"エ":{"docs":{},"ラ":{"docs":{},"ー":{"docs":{},"を":{"docs":{},"通":{"docs":{},"知":{"docs":{},"す":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}},"文":{"docs":{},"書":{"docs":{},"は":{"docs":{"./":{"ref":"./","tf":0.07692307692307693}}}},"責":{"docs":{},"は":{"docs":{"./":{"ref":"./","tf":0.07692307692307693}}}}},"本":{"docs":{},"資":{"docs":{},"料":{"docs":{},"に":{"docs":{},"つ":{"docs":{},"い":{"docs":{},"て":{"docs":{"./":{"ref":"./","tf":10.076923076923077}}}}}},"の":{"docs":{},"ホ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ィ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"先":{"docs":{"./":{"ref":"./","tf":0.07692307692307693}}}}}}}}}},"は":{"docs":{},"、":{"2":{"0":{"1":{"9":{"docs":{},"/":{"0":{"1":{"docs":{},"、":{"docs":{},"某":{"docs":{},"所":{"docs":{},"で":{"docs":{},"用":{"docs":{},"い":{"docs":{},"る":{"docs":{},"た":{"docs":{},"め":{"docs":{},"に":{"docs":{},"作":{"docs":{},"成":{"docs":{},"し":{"docs":{},"て":{"docs":{},"い":{"docs":{},"ま":{"docs":{},"す":{"docs":{},"。":{"docs":{"./":{"ref":"./","tf":0.07692307692307693}}}}}}}}}}}}}}}}}}}}},"docs":{}},"docs":{}}},"docs":{}},"docs":{}},"docs":{}},"docs":{}}}}},"制":{"docs":{},"限":{"docs":{},"の":{"docs":{},"た":{"docs":{},"め":{"docs":{},"、":{"docs":{},"本":{"docs":{},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"で":{"docs":{},"は":{"docs":{},"「":{"docs":{},"同":{"docs":{},"一":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"二":{"docs":{},"回":{"docs":{},"以":{"docs":{},"上":{"docs":{},"実":{"docs":{},"行":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"」":{"docs":{},"場":{"docs":{},"合":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"り":{"docs":{},"う":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"非":{"docs":{},"同":{"docs":{},"期":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"の":{"docs":{},"入":{"docs":{},"り":{"docs":{},"口":{"docs":{},"。":{"docs":{},"r":{"docs":{},"e":{"docs":{},"s":{"docs":{},"t":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}},"(":{"5":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}},"docs":{},"w":{"docs":{},"e":{"docs":{},"b":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}},"あ":{"docs":{},"る":{"docs":{},"い":{"docs":{},"は":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}},"し":{"docs":{},"て":{"docs":{},"も":{"docs":{},"性":{"docs":{},"能":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"が":{"docs":{},"ら":{"docs":{},"な":{"docs":{},"い":{"docs":{},"可":{"docs":{},"能":{"docs":{},"性":{"docs":{},")":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}},"ポ":{"docs":{},"ー":{"docs":{},"リ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},")":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}},"指":{"docs":{},"定":{"docs":{},"に":{"docs":{},"誤":{"docs":{},"り":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"、":{"docs":{},"ダ":{"docs":{},"ウ":{"docs":{},"ン":{"docs":{},"し":{"docs":{},"て":{"docs":{},"い":{"docs":{},"る":{"docs":{},"、":{"docs":{},"ネ":{"docs":{},"ッ":{"docs":{},"ト":{"docs":{},"ワ":{"docs":{},"ー":{"docs":{},"ク":{"docs":{},"不":{"docs":{},"調":{"docs":{},"、":{"docs":{},"な":{"docs":{},"ど":{"docs":{},")":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"非":{"docs":{},"同":{"docs":{},"期":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"側":{"docs":{},"か":{"docs":{},"ら":{"docs":{},"の":{"docs":{},"プ":{"docs":{},"ッ":{"docs":{},"シ":{"docs":{},"ュ":{"docs":{},"通":{"docs":{},"知":{"docs":{},")":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}},"メ":{"docs":{},"ッ":{"docs":{},"セ":{"docs":{},"ー":{"docs":{},"ジ":{"docs":{},"キ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{},"サ":{"docs":{},"ー":{"docs":{},"ビ":{"docs":{},"ス":{"docs":{},")":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}}}}}}}}}}}},"/":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}},"a":{"docs":{},"p":{"docs":{},"i":{"docs":{"design.html":{"ref":"design.html","tf":0.06707317073170732}}},"p":{"docs":{},"l":{"docs":{},"i":{"docs":{},"c":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}}}}}}},"m":{"docs":{},"a":{"docs":{},"z":{"docs":{},"o":{"docs":{},"n":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}}},"w":{"docs":{"reference.html":{"ref":"reference.html","tf":0.08695652173913043}}}},"b":{"docs":{},"a":{"docs":{},"l":{"docs":{},"a":{"docs":{},"n":{"docs":{},"c":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}},"c":{"docs":{},"r":{"docs":{},"u":{"docs":{},"d":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}}}}}},"d":{"docs":{},"b":{"docs":{"design.html":{"ref":"design.html","tf":0.018292682926829267}},"。":{"docs":{},"r":{"docs":{},"e":{"docs":{},"s":{"docs":{},"t":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}},"o":{"docs":{},"c":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}},"g":{"docs":{},"r":{"docs":{},"p":{"docs":{},"c":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}}}}}},"j":{"docs":{},"o":{"docs":{},"b":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}}}}},"l":{"docs":{},"o":{"docs":{},"a":{"docs":{},"d":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}},"p":{"docs":{},"u":{"docs":{},"s":{"docs":{},"h":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}}}}}},"q":{"docs":{},"u":{"docs":{},"e":{"docs":{},"u":{"docs":{},"e":{"docs":{"design.html":{"ref":"design.html","tf":0.024390243902439025},"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}}},"s":{"docs":{},"e":{"docs":{},"r":{"docs":{},"v":{"docs":{},"e":{"docs":{},"r":{"docs":{"design.html":{"ref":"design.html","tf":0.04878048780487805}}}},"i":{"docs":{},"c":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}}},"t":{"docs":{},"r":{"docs":{},"e":{"docs":{},"a":{"docs":{},"m":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}},"i":{"docs":{},"m":{"docs":{},"p":{"docs":{},"l":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}},"q":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}},"w":{"docs":{},"e":{"docs":{},"b":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513},"reference.html":{"ref":"reference.html","tf":0.043478260869565216}},"s":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"e":{"docs":{},"t":{"docs":{},"、":{"docs":{},"g":{"docs":{},"r":{"docs":{},"p":{"docs":{},"c":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}},"o":{"docs":{},"r":{"docs":{},"k":{"docs":{},"e":{"docs":{},"r":{"docs":{"design.html":{"ref":"design.html","tf":0.036585365853658534},"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}}}},"「":{"docs":{},"一":{"docs":{},"定":{"docs":{},"期":{"docs":{},"間":{"docs":{},"」":{"docs":{},"は":{"docs":{},"、":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"登":{"docs":{},"録":{"docs":{},"時":{"docs":{},"に":{"docs":{},"パ":{"docs":{},"ラ":{"docs":{},"メ":{"docs":{},"ー":{"docs":{},"タ":{"docs":{},"と":{"docs":{},"し":{"docs":{},"て":{"docs":{},"添":{"docs":{},"え":{"docs":{},"ら":{"docs":{},"れ":{"docs":{},"る":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"実":{"docs":{},"行":{"docs":{},"中":{"docs":{},"」":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"に":{"docs":{},"つ":{"docs":{},"い":{"docs":{},"て":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}},"あ":{"docs":{},"る":{"docs":{},"い":{"docs":{},"は":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}}}}}},"か":{"docs":{},"ら":{"docs":{},"の":{"docs":{},"プ":{"docs":{},"ッ":{"docs":{},"シ":{"docs":{},"ュ":{"docs":{},"通":{"docs":{},"知":{"docs":{},")":{"docs":{},"、":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"投":{"docs":{},"入":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"れ":{"docs":{},"ば":{"docs":{},"取":{"docs":{},"り":{"docs":{},"出":{"docs":{},"し":{"docs":{},"て":{"docs":{},"実":{"docs":{},"行":{"docs":{},"す":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"使":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"。":{"docs":{},"c":{"docs":{},"r":{"docs":{},"u":{"docs":{},"d":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}},"が":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"実":{"docs":{},"行":{"docs":{},"途":{"docs":{},"中":{"docs":{},"で":{"docs":{},"死":{"docs":{},"ん":{"docs":{},"で":{"docs":{},"し":{"docs":{},"ま":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"り":{"docs":{},"、":{"docs":{},"通":{"docs":{},"信":{"docs":{},"不":{"docs":{},"調":{"docs":{},"等":{"docs":{},"の":{"docs":{},"理":{"docs":{},"由":{"docs":{},"で":{"docs":{},"実":{"docs":{},"行":{"docs":{},"結":{"docs":{},"果":{"docs":{},"の":{"docs":{},"通":{"docs":{},"知":{"docs":{},"が":{"docs":{},"で":{"docs":{},"き":{"docs":{},"な":{"docs":{},"い":{"docs":{},"場":{"docs":{},"合":{"docs":{},"、":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"実":{"docs":{},"行":{"docs":{},"中":{"docs":{},"の":{"docs":{},"ま":{"docs":{},"ま":{"docs":{},"に":{"docs":{},"な":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"し":{"docs":{},"ま":{"docs":{},"う":{"docs":{},"可":{"docs":{},"能":{"docs":{},"性":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"何":{"docs":{},"ら":{"docs":{},"か":{"docs":{},"の":{"docs":{},"理":{"docs":{},"由":{"docs":{},"で":{"docs":{},"リ":{"docs":{},"ー":{"docs":{},"チ":{"docs":{},"で":{"docs":{},"き":{"docs":{},"な":{"docs":{},"い":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}},"分":{"docs":{},"か":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"る":{"docs":{},"構":{"docs":{},"成":{"docs":{},"を":{"docs":{},"検":{"docs":{},"討":{"docs":{},"し":{"docs":{},"た":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}},"指":{"docs":{},"定":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"た":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}},"で":{"docs":{},"き":{"docs":{},"る":{"docs":{},")":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}},"こ":{"docs":{},"れ":{"docs":{},"は":{"docs":{},"可":{"docs":{},"能":{"docs":{},"か":{"docs":{},"？":{"docs":{},"ど":{"docs":{},"の":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"な":{"docs":{},"制":{"docs":{},"約":{"docs":{},"を":{"docs":{},"つ":{"docs":{},"け":{"docs":{},"れ":{"docs":{},"ば":{"docs":{},"実":{"docs":{},"現":{"docs":{},"で":{"docs":{},"き":{"docs":{},"る":{"docs":{},"か":{"docs":{},"？":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}},"す":{"docs":{},"る":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"に":{"docs":{},"よ":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"な":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"を":{"docs":{},"想":{"docs":{},"定":{"docs":{},"し":{"docs":{},"て":{"docs":{},"い":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}},"そ":{"docs":{},"の":{"docs":{},"た":{"docs":{},"め":{"docs":{},"、":{"docs":{},"「":{"docs":{},"実":{"docs":{},"行":{"docs":{},"中":{"docs":{},"」":{"docs":{},"状":{"docs":{},"態":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"は":{"docs":{},"一":{"docs":{},"定":{"docs":{},"期":{"docs":{},"間":{"docs":{},"が":{"docs":{},"過":{"docs":{},"ぎ":{"docs":{},"る":{"docs":{},"と":{"docs":{},"「":{"docs":{},"実":{"docs":{},"行":{"docs":{},"待":{"docs":{},"ち":{"docs":{},"」":{"docs":{},"に":{"docs":{},"自":{"docs":{},"動":{"docs":{},"的":{"docs":{},"に":{"docs":{},"戻":{"docs":{},"る":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"に":{"docs":{},"し":{"docs":{},"て":{"docs":{},"お":{"docs":{},"く":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"と":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}},"い":{"docs":{},"う":{"docs":{},"理":{"docs":{},"由":{"docs":{},"で":{"docs":{},"、":{"docs":{},"j":{"docs":{},"o":{"docs":{},"b":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}},"切":{"docs":{},"り":{"docs":{},"離":{"docs":{},"し":{"docs":{},"た":{"docs":{},"形":{"docs":{},"を":{"docs":{},"想":{"docs":{},"定":{"docs":{},"し":{"docs":{},"て":{"docs":{},"お":{"docs":{},"く":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}},"に":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"実":{"docs":{},"行":{"docs":{},"結":{"docs":{},"果":{"docs":{},"を":{"docs":{},"ポ":{"docs":{},"ス":{"docs":{},"ト":{"docs":{},"す":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}},"入":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"永":{"docs":{},"続":{"docs":{},"化":{"docs":{},"す":{"docs":{},"る":{"docs":{},"機":{"docs":{},"能":{"docs":{},"と":{"docs":{},"し":{"docs":{},"て":{"docs":{},"想":{"docs":{},"定":{"docs":{},"し":{"docs":{},"た":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}},"反":{"docs":{},"映":{"docs":{},"す":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}},"定":{"docs":{},"期":{"docs":{},"的":{"docs":{},"に":{"docs":{},"監":{"docs":{},"視":{"docs":{},"し":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}},"結":{"docs":{},"果":{"docs":{},"を":{"docs":{},"通":{"docs":{},"知":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}},"の":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}},"巻":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}},"よ":{"docs":{},"う":{"docs":{},"に":{"docs":{},"し":{"docs":{},"て":{"docs":{},"お":{"docs":{},"く":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}},"を":{"docs":{},"上":{"docs":{},"回":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"失":{"docs":{},"敗":{"docs":{},"し":{"docs":{},"た":{"docs":{},"場":{"docs":{},"合":{"docs":{},"、":{"docs":{},"a":{"docs":{},"p":{"docs":{},"i":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}},"分":{"docs":{},"け":{"docs":{},"て":{"docs":{},"お":{"docs":{},"く":{"docs":{},"ほ":{"docs":{},"う":{"docs":{},"が":{"docs":{},"都":{"docs":{},"合":{"docs":{},"が":{"docs":{},"良":{"docs":{},"い":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}},"提":{"docs":{},"供":{"docs":{},"す":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}}}}}}},"添":{"docs":{},"え":{"docs":{},"て":{"docs":{},"お":{"docs":{},"く":{"docs":{},"方":{"docs":{},"式":{"docs":{},"。":{"docs":{},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"、":{"docs":{},"も":{"docs":{},"し":{"docs":{},"く":{"docs":{},"は":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}},"用":{"docs":{},"い":{"docs":{},"て":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"実":{"docs":{},"行":{"docs":{},"結":{"docs":{},"果":{"docs":{},"を":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}},"考":{"docs":{},"え":{"docs":{},"る":{"docs":{},"場":{"docs":{},"合":{"docs":{},"、":{"docs":{},"例":{"docs":{},"え":{"docs":{},"ば":{"docs":{},"以":{"docs":{},"下":{"docs":{},"の":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"な":{"docs":{},"方":{"docs":{},"式":{"docs":{},"で":{"docs":{},"実":{"docs":{},"現":{"docs":{},"で":{"docs":{},"き":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}},"逐":{"docs":{},"次":{"docs":{},"実":{"docs":{},"行":{"docs":{},"す":{"docs":{},"る":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}},"構":{"docs":{},"成":{"docs":{},"す":{"docs":{},"る":{"docs":{},"ベ":{"docs":{},"ス":{"docs":{},"ト":{"docs":{},"プ":{"docs":{},"ラ":{"docs":{},"ク":{"docs":{},"テ":{"docs":{},"ィ":{"docs":{},"ス":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}}}}}}}}}}}},"ア":{"docs":{},"プ":{"docs":{},"リ":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"シ":{"docs":{},"ョ":{"docs":{},"ン":{"docs":{},"か":{"docs":{},"ら":{"docs":{},"共":{"docs":{},"通":{"docs":{},"で":{"docs":{},"使":{"docs":{},"え":{"docs":{},"る":{"docs":{},"非":{"docs":{},"同":{"docs":{},"期":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"基":{"docs":{},"盤":{"docs":{},"を":{"docs":{},"提":{"docs":{},"供":{"docs":{},"す":{"docs":{},"る":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"ウ":{"docs":{},"ェ":{"docs":{},"ブ":{"docs":{},"ア":{"docs":{},"プ":{"docs":{},"リ":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"シ":{"docs":{},"ョ":{"docs":{},"ン":{"docs":{},"。":{"docs":{},"本":{"docs":{},"非":{"docs":{},"同":{"docs":{},"期":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"を":{"docs":{},"用":{"docs":{},"い":{"docs":{},"る":{"docs":{},"主":{"docs":{},"体":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"エ":{"docs":{},"ラ":{"docs":{},"ー":{"docs":{},"理":{"docs":{},"由":{"docs":{},"を":{"docs":{},"添":{"docs":{},"え":{"docs":{},"る":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"が":{"docs":{},"で":{"docs":{},"き":{"docs":{},"る":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}},"通":{"docs":{},"知":{"docs":{},"の":{"docs":{},"方":{"docs":{},"法":{"docs":{},"は":{"docs":{},"、":{"docs":{},"メ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"、":{"docs":{},"s":{"docs":{},"l":{"docs":{},"a":{"docs":{},"c":{"docs":{},"k":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}},"オ":{"docs":{},"ン":{"docs":{},"メ":{"docs":{},"モ":{"docs":{},"リ":{"docs":{},"で":{"docs":{},"も":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"程":{"docs":{},"度":{"docs":{},"可":{"docs":{},"能":{"docs":{},"か":{"docs":{},"も":{"docs":{},"し":{"docs":{},"れ":{"docs":{},"な":{"docs":{},"い":{"docs":{},"が":{"docs":{},"、":{"docs":{},"j":{"docs":{},"o":{"docs":{},"b":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}},"コ":{"docs":{},"ネ":{"docs":{},"ク":{"docs":{},"シ":{"docs":{},"ョ":{"docs":{},"ン":{"docs":{},"が":{"docs":{},"張":{"docs":{},"ら":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"な":{"docs":{},"い":{"docs":{},"タ":{"docs":{},"イ":{"docs":{},"ミ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"で":{"docs":{},"結":{"docs":{},"果":{"docs":{},"の":{"docs":{},"通":{"docs":{},"知":{"docs":{},"が":{"docs":{},"行":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"し":{"docs":{},"ま":{"docs":{},"う":{"docs":{},"場":{"docs":{},"合":{"docs":{},"に":{"docs":{},"、":{"docs":{},"結":{"docs":{},"果":{"docs":{},"が":{"docs":{},"失":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"な":{"docs":{},"い":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"に":{"docs":{},"ケ":{"docs":{},"ア":{"docs":{},"す":{"docs":{},"る":{"docs":{},"必":{"docs":{},"要":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"張":{"docs":{},"り":{"docs":{},"っ":{"docs":{},"ぱ":{"docs":{},"な":{"docs":{},"し":{"docs":{},"系":{"docs":{},"の":{"docs":{},"実":{"docs":{},"現":{"docs":{},"方":{"docs":{},"法":{"docs":{},"。":{"docs":{},"処":{"docs":{},"理":{"docs":{},"が":{"docs":{},"終":{"docs":{},"わ":{"docs":{},"り":{"docs":{},"次":{"docs":{},"第":{"docs":{},"、":{"docs":{},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"側":{"docs":{},"か":{"docs":{},"ら":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"ー":{"docs":{},"ル":{"docs":{},"バ":{"docs":{},"ッ":{"docs":{},"ク":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"、":{"docs":{},"規":{"docs":{},"定":{"docs":{},"の":{"docs":{},"リ":{"docs":{},"ト":{"docs":{},"ラ":{"docs":{},"イ":{"docs":{},"回":{"docs":{},"数":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}},"は":{"docs":{},"以":{"docs":{},"下":{"docs":{},"の":{"docs":{},"状":{"docs":{},"態":{"docs":{},"を":{"docs":{},"持":{"docs":{},"つ":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}},"を":{"docs":{},"い":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"ん":{"docs":{},"蓄":{"docs":{},"え":{"docs":{},"る":{"docs":{},"た":{"docs":{},"め":{"docs":{},"の":{"docs":{},"サ":{"docs":{},"ー":{"docs":{},"ビ":{"docs":{},"ス":{"docs":{},"と":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}},"実":{"docs":{},"行":{"docs":{},"す":{"docs":{},"る":{"docs":{},"部":{"docs":{},"分":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}},"投":{"docs":{},"入":{"docs":{},"時":{"docs":{},"に":{"docs":{},"結":{"docs":{},"果":{"docs":{},"通":{"docs":{},"知":{"docs":{},"先":{"docs":{},"の":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}},"状":{"docs":{},"態":{"docs":{},"変":{"docs":{},"更":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}},"確":{"docs":{},"認":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}},"登":{"docs":{},"録":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}},"終":{"docs":{},"了":{"docs":{},"時":{"docs":{},"の":{"docs":{},"結":{"docs":{},"果":{"docs":{},"通":{"docs":{},"知":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}},"プ":{"docs":{},"ロ":{"docs":{},"セ":{"docs":{},"ス":{"docs":{},"が":{"docs":{},"死":{"docs":{},"ぬ":{"docs":{},"と":{"docs":{},"実":{"docs":{},"行":{"docs":{},"待":{"docs":{},"ち":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"失":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"可":{"docs":{},"能":{"docs":{},"性":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"り":{"docs":{},"、":{"docs":{},"大":{"docs":{},"量":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"投":{"docs":{},"入":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"た":{"docs":{},"と":{"docs":{},"き":{"docs":{},"に":{"docs":{},"メ":{"docs":{},"モ":{"docs":{},"リ":{"docs":{},"に":{"docs":{},"保":{"docs":{},"持":{"docs":{},"し":{"docs":{},"き":{"docs":{},"れ":{"docs":{},"な":{"docs":{},"く":{"docs":{},"な":{"docs":{},"る":{"docs":{},"、":{"docs":{},"等":{"docs":{},"の":{"docs":{},"理":{"docs":{},"由":{"docs":{},"で":{"docs":{},"オ":{"docs":{},"ス":{"docs":{},"ス":{"docs":{},"メ":{"docs":{},"で":{"docs":{},"き":{"docs":{},"な":{"docs":{},"い":{"docs":{},"と":{"docs":{},"考":{"docs":{},"え":{"docs":{},"た":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"モ":{"docs":{},"ジ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"構":{"docs":{},"成":{"docs":{},"図":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"が":{"docs":{},"実":{"docs":{},"行":{"docs":{},"中":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}},"に":{"docs":{},"よ":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"処":{"docs":{},"理":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"の":{"docs":{},"を":{"docs":{},"待":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"る":{"docs":{},"状":{"docs":{},"態":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}},"の":{"docs":{},"ア":{"docs":{},"ー":{"docs":{},"キ":{"docs":{},"テ":{"docs":{},"ク":{"docs":{},"チ":{"docs":{},"ャ":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}}}}}}}}}},"一":{"docs":{},"定":{"docs":{},"期":{"docs":{},"間":{"docs":{},"が":{"docs":{},"過":{"docs":{},"ぎ":{"docs":{},"る":{"docs":{},"と":{"docs":{},"「":{"docs":{},"実":{"docs":{},"行":{"docs":{},"待":{"docs":{},"ち":{"docs":{},"」":{"docs":{},"に":{"docs":{},"戻":{"docs":{},"る":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}},"方":{"docs":{},"、":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"完":{"docs":{},"了":{"docs":{},"し":{"docs":{},"次":{"docs":{},"第":{"docs":{},"通":{"docs":{},"知":{"docs":{},"す":{"docs":{},"る":{"docs":{},"形":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}},"主":{"docs":{},"な":{"docs":{},"機":{"docs":{},"能":{"docs":{},"は":{"docs":{},"以":{"docs":{},"下":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}},"要":{"docs":{},"機":{"docs":{},"能":{"docs":{},"の":{"docs":{},"シ":{"docs":{},"ー":{"docs":{},"ケ":{"docs":{},"ン":{"docs":{},"ス":{"docs":{},"図":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}},"先":{"docs":{},"述":{"docs":{},"の":{"docs":{},"シ":{"docs":{},"ー":{"docs":{},"ケ":{"docs":{},"ン":{"docs":{},"ス":{"docs":{},"図":{"docs":{},"で":{"docs":{},"は":{"docs":{},"、":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"成":{"docs":{},"否":{"docs":{},"、":{"docs":{},"な":{"docs":{},"い":{"docs":{},"し":{"docs":{},"進":{"docs":{},"捗":{"docs":{},"の":{"docs":{},"確":{"docs":{},"認":{"docs":{},"は":{"docs":{},"ユ":{"docs":{},"ー":{"docs":{},"ザ":{"docs":{},"ー":{"docs":{},"が":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"状":{"docs":{},"態":{"docs":{},"取":{"docs":{},"得":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"各":{"docs":{},"モ":{"docs":{},"ジ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"の":{"docs":{},"主":{"docs":{},"な":{"docs":{},"役":{"docs":{},"割":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}},"回":{"docs":{},")":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}},"リ":{"docs":{},"ト":{"docs":{},"ラ":{"docs":{},"イ":{"docs":{},"す":{"docs":{},"る":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}},"失":{"docs":{},"敗":{"docs":{},"し":{"docs":{},"た":{"docs":{},"非":{"docs":{},"同":{"docs":{},"期":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"は":{"docs":{},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"管":{"docs":{},"理":{"docs":{},"者":{"docs":{},"に":{"docs":{},"エ":{"docs":{},"ラ":{"docs":{},"ー":{"docs":{},"通":{"docs":{},"知":{"docs":{},"す":{"docs":{},"る":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"場":{"docs":{},"合":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"と":{"docs":{},"思":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"の":{"docs":{},"で":{"docs":{},"、":{"docs":{},"c":{"docs":{},"r":{"docs":{},"u":{"docs":{},"d":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}},"に":{"docs":{},"、":{"docs":{},"結":{"docs":{},"果":{"docs":{},"が":{"docs":{},"失":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"な":{"docs":{},"い":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"に":{"docs":{},"ケ":{"docs":{},"ア":{"docs":{},"す":{"docs":{},"る":{"docs":{},"必":{"docs":{},"要":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}},"大":{"docs":{},"量":{"docs":{},"に":{"docs":{},"リ":{"docs":{},"ク":{"docs":{},"エ":{"docs":{},"ス":{"docs":{},"ト":{"docs":{},"が":{"docs":{},"く":{"docs":{},"る":{"docs":{},"場":{"docs":{},"合":{"docs":{},"に":{"docs":{},"備":{"docs":{},"え":{"docs":{},"て":{"docs":{},"、":{"docs":{},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"ア":{"docs":{},"ウ":{"docs":{},"ト":{"docs":{},"し":{"docs":{},"や":{"docs":{},"す":{"docs":{},"い":{"docs":{},"よ":{"docs":{},"う":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"失":{"docs":{},"敗":{"docs":{},"終":{"docs":{},"了":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}},"実":{"docs":{},"行":{"docs":{},"中":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}},"待":{"docs":{},"ち":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"取":{"docs":{},"り":{"docs":{},"出":{"docs":{},"し":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}},"対":{"docs":{},"象":{"docs":{},"と":{"docs":{},"な":{"docs":{},"る":{"docs":{},"の":{"docs":{},"は":{"docs":{},"時":{"docs":{},"間":{"docs":{},"が":{"docs":{},"か":{"docs":{},"か":{"docs":{},"る":{"docs":{},"処":{"docs":{},"理":{"docs":{},"。":{"docs":{},"例":{"docs":{},"え":{"docs":{},"ば":{"docs":{},"、":{"docs":{},"動":{"docs":{},"画":{"docs":{},"の":{"docs":{},"エ":{"docs":{},"ン":{"docs":{},"コ":{"docs":{},"ー":{"docs":{},"デ":{"docs":{},"ィ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"や":{"docs":{},"大":{"docs":{},"量":{"docs":{},"の":{"docs":{},"サ":{"docs":{},"ム":{"docs":{},"ネ":{"docs":{},"イ":{"docs":{},"ル":{"docs":{},"の":{"docs":{},"作":{"docs":{},"成":{"docs":{},"な":{"docs":{},"ど":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"正":{"docs":{},"常":{"docs":{},"終":{"docs":{},"了":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}},"等":{"docs":{},"の":{"docs":{},"形":{"docs":{},"で":{"docs":{"design.html":{"ref":"design.html","tf":0.012195121951219513}}}}},"へ":{"docs":{},"の":{"docs":{},"ポ":{"docs":{},"ス":{"docs":{},"ト":{"docs":{},"を":{"docs":{},"行":{"docs":{},"う":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"を":{"docs":{},"想":{"docs":{},"定":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}},"管":{"docs":{},"理":{"docs":{},"者":{"docs":{},"へ":{"docs":{},"の":{"docs":{},"エ":{"docs":{},"ラ":{"docs":{},"ー":{"docs":{},"通":{"docs":{},"知":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}},"結":{"docs":{},"果":{"docs":{},"を":{"docs":{},"通":{"docs":{},"知":{"docs":{},"す":{"docs":{},"る":{"docs":{},"前":{"docs":{},"に":{"docs":{},"コ":{"docs":{},"ネ":{"docs":{},"ク":{"docs":{},"シ":{"docs":{},"ョ":{"docs":{},"ン":{"docs":{},"が":{"docs":{},"切":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"し":{"docs":{},"ま":{"docs":{},"う":{"docs":{},"場":{"docs":{},"合":{"docs":{},"は":{"docs":{},"、":{"docs":{},"貼":{"docs":{},"り":{"docs":{},"直":{"docs":{},"す":{"docs":{},"必":{"docs":{},"要":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"。":{"docs":{},"結":{"docs":{},"果":{"docs":{},"通":{"docs":{},"知":{"docs":{},"時":{"docs":{},"に":{"docs":{},"は":{"docs":{},"少":{"docs":{},"な":{"docs":{},"く":{"docs":{},"と":{"docs":{},"も":{"docs":{},"コ":{"docs":{},"ネ":{"docs":{},"ク":{"docs":{},"シ":{"docs":{},"ョ":{"docs":{},"ン":{"docs":{},"が":{"docs":{},"張":{"docs":{},"ら":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"る":{"docs":{},"必":{"docs":{},"要":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"複":{"docs":{},"数":{"docs":{},"の":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}},"イ":{"docs":{},"ン":{"docs":{},"ス":{"docs":{},"タ":{"docs":{},"ン":{"docs":{},"ス":{"docs":{},"が":{"docs":{},"立":{"docs":{},"ち":{"docs":{},"上":{"docs":{},"が":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"る":{"docs":{},"等":{"docs":{},"し":{"docs":{},"て":{"docs":{},"、":{"docs":{},"複":{"docs":{},"数":{"docs":{},"同":{"docs":{},"時":{"docs":{},"に":{"docs":{},"存":{"docs":{},"在":{"docs":{},"す":{"docs":{},"る":{"docs":{},"可":{"docs":{},"能":{"docs":{},"性":{"docs":{},"も":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"と":{"docs":{},"す":{"docs":{},"る":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"要":{"docs":{},"件":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}},"諸":{"docs":{},"々":{"docs":{},"補":{"docs":{},"足":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}},"負":{"docs":{},"荷":{"docs":{},"を":{"docs":{},"分":{"docs":{},"散":{"docs":{},"す":{"docs":{},"る":{"docs":{},"た":{"docs":{},"め":{"docs":{},"に":{"docs":{},"ロ":{"docs":{},"ー":{"docs":{},"ド":{"docs":{},"バ":{"docs":{},"ラ":{"docs":{},"ン":{"docs":{},"サ":{"docs":{},"ー":{"docs":{},"を":{"docs":{},"置":{"docs":{},"く":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}},"送":{"docs":{},"信":{"docs":{},"先":{"docs":{},"が":{"docs":{},"大":{"docs":{},"量":{"docs":{},"で":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"等":{"docs":{},"で":{"docs":{},"そ":{"docs":{},"れ":{"docs":{},"な":{"docs":{},"り":{"docs":{},"に":{"docs":{},"通":{"docs":{},"知":{"docs":{},"処":{"docs":{},"理":{"docs":{},"に":{"docs":{},"時":{"docs":{},"間":{"docs":{},"が":{"docs":{},"掛":{"docs":{},"か":{"docs":{},"る":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"が":{"docs":{},"想":{"docs":{},"定":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"場":{"docs":{},"合":{"docs":{},"は":{"docs":{},"、":{"docs":{},"別":{"docs":{},"途":{"docs":{},"非":{"docs":{},"同":{"docs":{},"期":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"を":{"docs":{},"用":{"docs":{},"い":{"docs":{},"て":{"docs":{},"通":{"docs":{},"知":{"docs":{},"処":{"docs":{},"理":{"docs":{},"を":{"docs":{},"行":{"docs":{},"う":{"docs":{},"必":{"docs":{},"要":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"り":{"docs":{},"そ":{"docs":{},"う":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"通":{"docs":{},"知":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}},"先":{"docs":{},"の":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}},"部":{"docs":{},"分":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}},"は":{"docs":{},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"ア":{"docs":{},"ウ":{"docs":{},"ト":{"docs":{},"し":{"docs":{},"に":{"docs":{},"く":{"docs":{},"い":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}},"非":{"docs":{},"同":{"docs":{},"期":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"失":{"docs":{},"敗":{"docs":{},"し":{"docs":{},"た":{"docs":{},"場":{"docs":{},"合":{"docs":{},"は":{"docs":{},"、":{"docs":{},"自":{"docs":{},"動":{"docs":{},"的":{"docs":{},"に":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}},"終":{"docs":{},"了":{"docs":{},"し":{"docs":{},"た":{"docs":{},"ら":{"docs":{},"、":{"docs":{},"成":{"docs":{},"否":{"docs":{},"に":{"docs":{},"関":{"docs":{},"わ":{"docs":{},"ら":{"docs":{},"ず":{"docs":{},"結":{"docs":{},"果":{"docs":{},"を":{"docs":{},"ユ":{"docs":{},"ー":{"docs":{},"ザ":{"docs":{},"に":{"docs":{},"通":{"docs":{},"知":{"docs":{},"し":{"docs":{},"た":{"docs":{},"い":{"docs":{},"。":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"の":{"docs":{},"入":{"docs":{},"り":{"docs":{},"口":{"docs":{},"に":{"docs":{},"な":{"docs":{},"る":{"docs":{},"後":{"docs":{},"述":{"docs":{},"の":{"docs":{"design.html":{"ref":"design.html","tf":0.006097560975609756}}}}}}}}}}}},"設":{"docs":{},"計":{"docs":{"design.html":{"ref":"design.html","tf":10.00609756097561}}}}}}}}}}}}}},"m":{"docs":{},"i":{"docs":{},"c":{"docs":{},"r":{"docs":{},"o":{"docs":{},"s":{"docs":{},"o":{"docs":{},"f":{"docs":{},"t":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}}}}}}},"|":{"docs":{"reference.html":{"ref":"reference.html","tf":0.08695652173913043}}},"〜":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}},"キ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}},"ス":{"docs":{},"タ":{"docs":{},"イ":{"docs":{},"ル":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}},"参":{"docs":{},"照":{"docs":{},"し":{"docs":{},"た":{"docs":{},"ウ":{"docs":{},"ェ":{"docs":{},"ブ":{"docs":{},"ペ":{"docs":{},"ー":{"docs":{},"ジ":{"docs":{},"の":{"docs":{},"う":{"docs":{},"ち":{"docs":{},"、":{"docs":{},"め":{"docs":{},"ぼ":{"docs":{},"し":{"docs":{},"い":{"docs":{},"と":{"docs":{},"こ":{"docs":{},"ろ":{"docs":{},"を":{"docs":{},"抜":{"docs":{},"粋":{"docs":{"reference.html":{"ref":"reference.html","tf":0.043478260869565216}}}}}}}}}}}}}}}}}}}}}}}}},"考":{"docs":{},"文":{"docs":{},"献":{"docs":{"reference.html":{"ref":"reference.html","tf":10.043478260869565}}}}}}},"length":155},"corpusTokens":["(5","(web","(あるいは","(しても性能があがらない可能性)","(ポーリング)","(メッセージキューサービス)","(指定に誤りがある、ダウンしている、ネットワーク不調、など)","(非同期ジョブシステム側からのプッシュ通知)","/","5","@pankona","amazon","api","applic","aw","balanc","crud","db","db。rest","doc","grpc","https://github.com/pankona/kodama","https://pankona.github.io/kodama/","job","load","microsoft","push","queue","server","servic","simpl","sq","stream","url","web","websocket、grpc","worker","|","「一定期間」は、ジョブ登録時にパラメータとして添えられる","「実行中」のジョブについて","〜","あるいは","からのプッシュ通知)、ジョブが投入されていれば取り出して実行する。","から使われる。crud","がジョブ実行途中で死んでしまったり、通信不調等の理由で実行結果の通知ができない場合、ジョブが実行中のままになってしまう可能性がある","が何らかの理由でリーチできない","が分かれている構成を検討した","が指定された","が指定できる)","これは可能か？どのような制約をつければ実現できるか？","することによってなされることを想定している。","そのため、「実行中」状態のジョブは一定期間が過ぎると「実行待ち」に自動的に戻るようにしておく。","で","です。","でジョブ","で管理しています。","で通知する。","と","という理由で、job","と切り離した形を想定しておく。","にジョブ実行結果をポストする。","に入れて永続化する機能として想定した","に反映する。","に定期的に監視し","に結果を通知","の","の巻","は","は、一定期間が過ぎたジョブに対しては結果通知をせずに終了するのが望ましいが、実行済の処理をなかったことにできない場合も考えられるし、タイミングによっては結果の通知が行われてしまうこともありうる。","は、処理内容によっては大量にインスタンスが必要になる場合もありえそうなため、スケールアウトしやすい形にしておく。","は、投入されたジョブを","はスケールアウトする等で複数になる可能性がある。","は管理者にエラーを通知する。","ようにしておく。","を上回って失敗した場合、api","を分けておくほうが都合が良い","を提供する。","を構成するベストプラクティス","を添えておく方式。ワーカー、もしくは","を用いてジョブの実行結果を","を考える場合、例えば以下のような方式で実現できる。","を逐次実行する","アプリケーションから共通で使える非同期ジョブの基盤を提供する","ウェブアプリケーション。本非同期ジョブシステムを用いる主体。","エラー理由を添えることができる","エラー通知の方法は、メール、slack","オンメモリでもある程度可能かもしれないが、job","キュー","コネクションが張られていないタイミングで結果の通知が行われてしまう場合に、結果が失われないようにケアする必要がある。","コネクション張りっぱなし系の実現方法。処理が終わり次第、システム側から","コールバック","ジョブが、規定のリトライ回数","ジョブは以下の状態を持つ。","ジョブをいったん蓄えるためのサービスと","ジョブを実行する部分。","ジョブ投入時に結果通知先の","ジョブ状態変更","ジョブ状態確認","ジョブ登録","ジョブ終了時の結果通知","スタイル","プロセスが死ぬと実行待ちジョブが失われる可能性があったり、大量のジョブが投入されたときにメモリに保持しきれなくなる、等の理由でオススメできないと考えた","モジュール構成図","ワーカーが実行中のジョブ","ワーカーによって処理されるのを待っている状態のジョブ","ワーカーのアーキテクチャ","一定期間が過ぎると「実行待ち」に戻る","一方、ジョブが完了し次第通知する形","主な機能は以下。","主要機能のシーケンス図","先述のシーケンス図では、ジョブの成否、ないし進捗の確認はユーザーがジョブの状態取得","参照したウェブページのうち、めぼしいところを抜粋","参考文献","各モジュールの主な役割","回)","回リトライする","回失敗した非同期ジョブはシステム管理者にエラー通知する","場合があると思われるので、crud","場合に、結果が失われないようにケアする必要がある。","大量にリクエストがくる場合に備えて、スケールアウトしやすいよう","失敗終了","実行中","実行待ち","実行待ちジョブ取り出し","対象となるのは時間がかかる処理。例えば、動画のエンコーディングや大量のサムネイルの作成など。","文書は","文責は","本制限のため、本システムでは「同一のジョブが二回以上実行される」場合がありうる。","本資料について","本資料のホスティング先","本資料は、2019/01、某所で用いるために作成しています。","本非同期ジョブシステムの入り口。rest","正常終了","等の形で","等へのポストを行うことを想定。","管理者へのエラー通知","結果を通知する前にコネクションが切れてしまう場合は、貼り直す必要がある。結果通知時には少なくともコネクションが張られている必要がある。","複数の","複数のインスタンスが立ち上がっている等して、複数同時に存在する可能性もあるとする。","要件","諸々補足","負荷を分散するためにロードバランサーを置く。","送信先が大量である等でそれなりに通知処理に時間が掛かることが想定される場合は、別途非同期ジョブシステムを用いて通知処理を行う必要がありそう。","通知","通知先の","部分。","部分はスケールアウトしにくい","非同期ジョブが失敗した場合は、自動的に","非同期ジョブが終了したら、成否に関わらず結果をユーザに通知したい。","非同期ジョブシステムの入り口になる後述の","非同期ジョブシステム設計"],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"本資料について","keywords":"","body":"本資料について\n\n本資料は、2019/01、某所で用いるために作成しています。\n文書は https://github.com/pankona/kodama で管理しています。\n文責は @pankona です。\n本資料のホスティング先 URL は https://pankona.github.io/kodama/ です。\n\n\n\n"},"design.html":{"url":"design.html","title":"非同期ジョブシステム設計","keywords":"","body":"非同期ジョブシステム設計\n要件\n\n複数の Web アプリケーションから共通で使える非同期ジョブの基盤を提供する\n対象となるのは時間がかかる処理。例えば、動画のエンコーディングや大量のサムネイルの作成など。\n\n\n非同期ジョブが失敗した場合は、自動的に 5 回リトライする\n5 回失敗した非同期ジョブはシステム管理者にエラー通知する\n非同期ジョブが終了したら、成否に関わらず結果をユーザに通知したい。\nこれは可能か？どのような制約をつければ実現できるか？\n\n\n\nモジュール構成図\n\n各モジュールの主な役割\n\nWeb Application\n\nウェブアプリケーション。本非同期ジョブシステムを用いる主体。\n複数のインスタンスが立ち上がっている等して、複数同時に存在する可能性もあるとする。\n\nLoad Balancer\n\n非同期ジョブシステムの入り口になる後述の API Server はスケールアウトする等で複数になる可能性がある。\n負荷を分散するためにロードバランサーを置く。\n\nAPI Server\n\n本非同期ジョブシステムの入り口。RESTful あるいは gRPC 等の形で API を提供する。\n大量にリクエストがくる場合に備えて、スケールアウトしやすいよう CRUD と切り離した形を想定しておく。\n主な機能は以下。\n- ジョブ登録\n- 実行待ちジョブ取り出し\n- ジョブ状態変更\n- ジョブ状態確認\n\nJob Queue / DB\n\nジョブをいったん蓄えるためのサービスと DB。RESTful あるいは gRPC 等の形で API を提供する。\nAPI Server から使われる。CRUD 部分。\nジョブは以下の状態を持つ。\n- 実行待ち\n  - ワーカーによって処理されるのを待っている状態のジョブ\n- 実行中\n  - ワーカーが実行中のジョブ\n  - 一定期間が過ぎると「実行待ち」に戻る\n- 正常終了\n- 失敗終了\n - エラー理由を添えることができる\n\nWorker\n\nジョブを実行する部分。\nAPI Server に定期的に監視し (あるいは API Server からのプッシュ通知)、ジョブが投入されていれば取り出して実行する。\nAPI Server の API を用いてジョブの実行結果を DB に反映する。\n主要機能のシーケンス図\n\n管理者へのエラー通知\nジョブが、規定のリトライ回数 (5 回) を上回って失敗した場合、API Server は管理者にエラーを通知する。\nエラー通知の方法は、メール、Slack 等へのポストを行うことを想定。\n\n送信先が大量である等でそれなりに通知処理に時間が掛かることが想定される場合は、別途非同期ジョブシステムを用いて通知処理を行う必要がありそう。\n\nジョブ終了時の結果通知\n先述のシーケンス図では、ジョブの成否、ないし進捗の確認はユーザーがジョブの状態取得 API を逐次実行する (ポーリング) することによってなされることを想定している。\n一方、ジョブが完了し次第通知する形 (非同期ジョブシステム側からのプッシュ通知) を考える場合、例えば以下のような方式で実現できる。\n\nWebSocket、gRPC の stream で push 通知\n\nコネクション張りっぱなし系の実現方法。処理が終わり次第、システム側から push で通知する。\n結果を通知する前にコネクションが切れてしまう場合は、貼り直す必要がある。結果通知時には少なくともコネクションが張られている必要がある。\nコネクションが張られていないタイミングで結果の通知が行われてしまう場合に、結果が失われないようにケアする必要がある。\n\n\nコールバック URL に結果を通知\n\nジョブ投入時に結果通知先の URL を添えておく方式。ワーカー、もしくは API Server が指定された URL にジョブ実行結果をポストする。\n通知先の URL が何らかの理由でリーチできない (指定に誤りがある、ダウンしている、ネットワーク不調、など) 場合に、結果が失われないようにケアする必要がある。\n\n\n\n諸々補足\n\nWorker は、処理内容によっては大量にインスタンスが必要になる場合もありえそうなため、スケールアウトしやすい形にしておく。\n\nCRUD 部分はスケールアウトしにくい (しても性能があがらない可能性) 場合があると思われるので、CRUD と Worker を分けておくほうが都合が良い\nという理由で、Job Queue と Worker が分かれている構成を検討した\n\n\nJob Queue は、投入されたジョブを DB に入れて永続化する機能として想定した\n\nオンメモリでもある程度可能かもしれないが、Job Queue プロセスが死ぬと実行待ちジョブが失われる可能性があったり、大量のジョブが投入されたときにメモリに保持しきれなくなる、等の理由でオススメできないと考えた\n\n\n「実行中」のジョブについて\n\nWorker がジョブ実行途中で死んでしまったり、通信不調等の理由で実行結果の通知ができない場合、ジョブが実行中のままになってしまう可能性がある\nそのため、「実行中」状態のジョブは一定期間が過ぎると「実行待ち」に自動的に戻るようにしておく。\n「一定期間」は、ジョブ登録時にパラメータとして添えられる (Web Application が指定できる) ようにしておく。\nWorker は、一定期間が過ぎたジョブに対しては結果通知をせずに終了するのが望ましいが、実行済の処理をなかったことにできない場合も考えられるし、タイミングによっては結果の通知が行われてしまうこともありうる。\n\n本制限のため、本システムでは「同一のジョブが二回以上実行される」場合がありうる。\n\n\n\n\n\n"},"reference.html":{"url":"reference.html","title":"参考文献","keywords":"","body":"参考文献\n参照したウェブページのうち、めぼしいところを抜粋\n\nAmazon Simple Queue Service (メッセージキューサービス) | AWS\nAWS でジョブ Worker を構成するベストプラクティス 〜 SQS の巻\nWeb キュー ワーカーのアーキテクチャ スタイル | Microsoft Docs\n\n"}}}