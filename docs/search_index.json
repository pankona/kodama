{"index":{"version":"0.5.12","fields":[{"name":"title","boost":10},{"name":"keywords","boost":15},{"name":"body","boost":1}],"ref":"url","documentStore":{"store":{"./":["本資料について"],"design.html":["シーケンス図","モジュール構成図","ユースケース","非同期ジョブ実行システム設計"],"reference.html":["aw","doc","microsoft","sq","web","worker","|","〜","でジョブ","の巻","を構成するベストプラクティス","キュー","スタイル","ワーカーのアーキテクチャ","参照したウェブページのうち、めぼしいところを抜粋","参考文献"],"memo.html":["(db","(grpc","(コネクション張ったり切ったり)","(スケールアウト)","(ワーカーと呼ぶ)","(一日とか)","(名前微妙)","5","api","id","websocket","「実行中」状態は、一定の時間が過ぎると解除されて「実行待ち」に戻る","いずれワーカーが本ジョブをリトライする","この仕様のため、「同一のジョブは二回以上実行されうる」という制限が生じる。","できるように","でも使えるような想定","とか)","とかロングポーリングとか","と思われるので、","のでスケールアウトしにくいという想定","は、必要に応じてどんどん増やせる","を使うだろう)","を実行する","を引数にしてジョブの結果通知","を引数にして現在のジョブの状態を問い合わせる形","を提供する","を返す","ウェブアプリケーションから用いるという文脈で、様々な非同期ジョブ実行を行うことができる仕組みを考える。","エラー理由を添えることができる","キューといいつつ、取り出された段階で内容が失われるわけではない","キューとワーカーは別にスケールできるようにしておく","キューはストレージに永続化する","キュー部分は一元管理したい関係上、スケールアウトしにくいので、","システム側からのプッシュではなく利用側からのポーリングによって行うことを想定","システム管理者にメールを送信する","ジョブがワーカーに取り出されたら、そのジョブは「実行中」に状態を変更する","ジョブが失敗したときに再実行される可能性があるので、一度取り出されても失われないようにする","ジョブが失敗した場合、かつリトライ回数が","ジョブの","ジョブは「正常終了」に状態変更される","ジョブは以下の状態を持つ","ジョブキュー","ジョブキューのプロセスが死んだときに、投入済のジョブが失われないようにするため","ジョブキューはワーカーがジョブの実行に失敗した回数を記録する","ジョブキューをスケールアウトしやすい","ジョブキューを見張っていて、ジョブが投入されていれば順次取りだして実行する機能","ジョブ取り出し","ジョブ実行者","ジョブ投入","ジョブ投入から実行開始までに多少ディレイがあっても良い想定","ジョブ投入時にジョブキューはジョブの","ジョブ状態変更","ジョブ状態確認","ポーリングのほうがリソース面では不利","メモ","リトライは","ワーカー","ワーカーがジョブの実行を失敗する場合があることを想定する。","ワーカーがジョブを正常に終了した場合、ワーカーがジョブキューに「実行終了」を通知する","ワーカーが実行中のジョブ","ワーカーが結果を通知せずに死んでしまったり、結果通知時に通信ができなかったり、などで結果が行方不明になる場合にそなえて","ワーカーによって処理されるのを待っている状態のジョブ","一定期間が過ぎると「実行待ち」に戻る","一日一回のポーリングとか。もっと頻度が高ければプッシュ側のほうが遊び時間が少なくて良くなりそう","一日単位などの長い処理が行われる場合、セッション張りっぱなしよりもポーリングのほうが仕組みが単純で安定すると思ったため","使う側からしてみたらシンプルに使える","処理が短い場合はシステム側からのプッシュでも良さそう","回に満たない場合、当該ジョブの状態を「実行待ち」に変更する","回に達していた場合、当該ジョブの状態を「失敗終了」に変更する","回行うとする","失敗の回数は、リトライを行うかどうかの判断に用いる","失敗終了","実行が終わったら、結果をジョブキューに返す","実行中","実行待ち","投入されたジョブはストレージに置くなどして永続化する","投入されたジョブはワーカーが順次取り出して実行する","投入されたジョブをキューイングしておく機能","未分類文書は一旦ここに書く。","概要","構成は、ジョブはいったんキューに積み、順次ワーカーが処理を行っていくモデル","正常終了","結果の問い合わせは、利用側はジョブ","結果通知","色々なユースケースに対応するため、なるべく特定用途に寄らない設計にしたいと考える。","複数のワーカーが同じジョブを実行しないようにするため","見張り方はポーリングかプッシュ型でも","設計で考えた点","非同期ジョブ実行システムの基盤ということで、ジョブがそれなりに時間が掛かる"]},"length":4},"tokenStore":{"root":{"5":{"docs":{"memo.html":{"ref":"memo.html","tf":0.031578947368421054}}},"docs":{},"本":{"docs":{},"資":{"docs":{},"料":{"docs":{},"に":{"docs":{},"つ":{"docs":{},"い":{"docs":{},"て":{"docs":{"./":{"ref":"./","tf":11}}}}}}}}},"シ":{"docs":{},"ー":{"docs":{},"ケ":{"docs":{},"ン":{"docs":{},"ス":{"docs":{},"図":{"docs":{"design.html":{"ref":"design.html","tf":0.25}}}}}}},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"側":{"docs":{},"か":{"docs":{},"ら":{"docs":{},"の":{"docs":{},"プ":{"docs":{},"ッ":{"docs":{},"シ":{"docs":{},"ュ":{"docs":{},"で":{"docs":{},"は":{"docs":{},"な":{"docs":{},"く":{"docs":{},"利":{"docs":{},"用":{"docs":{},"側":{"docs":{},"か":{"docs":{},"ら":{"docs":{},"の":{"docs":{},"ポ":{"docs":{},"ー":{"docs":{},"リ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"に":{"docs":{},"よ":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"行":{"docs":{},"う":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"を":{"docs":{},"想":{"docs":{},"定":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"管":{"docs":{},"理":{"docs":{},"者":{"docs":{},"に":{"docs":{},"メ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"を":{"docs":{},"送":{"docs":{},"信":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}},"モ":{"docs":{},"ジ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"構":{"docs":{},"成":{"docs":{},"図":{"docs":{"design.html":{"ref":"design.html","tf":0.25}}}}}}}}}},"ユ":{"docs":{},"ー":{"docs":{},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ス":{"docs":{"design.html":{"ref":"design.html","tf":0.25}}}}}}}},"非":{"docs":{},"同":{"docs":{},"期":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"実":{"docs":{},"行":{"docs":{},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"設":{"docs":{},"計":{"docs":{"design.html":{"ref":"design.html","tf":10.25}}}},"の":{"docs":{},"基":{"docs":{},"盤":{"docs":{},"と":{"docs":{},"い":{"docs":{},"う":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"で":{"docs":{},"、":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"そ":{"docs":{},"れ":{"docs":{},"な":{"docs":{},"り":{"docs":{},"に":{"docs":{},"時":{"docs":{},"間":{"docs":{},"が":{"docs":{},"掛":{"docs":{},"か":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"a":{"docs":{},"w":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}},"p":{"docs":{},"i":{"docs":{"memo.html":{"ref":"memo.html","tf":0.021052631578947368}}}}},"d":{"docs":{},"o":{"docs":{},"c":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}}}},"m":{"docs":{},"i":{"docs":{},"c":{"docs":{},"r":{"docs":{},"o":{"docs":{},"s":{"docs":{},"o":{"docs":{},"f":{"docs":{},"t":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}}}}}}}}}},"s":{"docs":{},"q":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}}},"w":{"docs":{},"e":{"docs":{},"b":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}},"s":{"docs":{},"o":{"docs":{},"c":{"docs":{},"k":{"docs":{},"e":{"docs":{},"t":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}},"o":{"docs":{},"r":{"docs":{},"k":{"docs":{},"e":{"docs":{},"r":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}}}}}}},"|":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}},"〜":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}},"で":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}}}},"き":{"docs":{},"る":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"に":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}},"も":{"docs":{},"使":{"docs":{},"え":{"docs":{},"る":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"な":{"docs":{},"想":{"docs":{},"定":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}},"の":{"docs":{},"巻":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}},"で":{"docs":{},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"ア":{"docs":{},"ウ":{"docs":{},"ト":{"docs":{},"し":{"docs":{},"に":{"docs":{},"く":{"docs":{},"い":{"docs":{},"と":{"docs":{},"い":{"docs":{},"う":{"docs":{},"想":{"docs":{},"定":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}},"を":{"docs":{},"構":{"docs":{},"成":{"docs":{},"す":{"docs":{},"る":{"docs":{},"ベ":{"docs":{},"ス":{"docs":{},"ト":{"docs":{},"プ":{"docs":{},"ラ":{"docs":{},"ク":{"docs":{},"テ":{"docs":{},"ィ":{"docs":{},"ス":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}}}}}}}}}}}}}},"使":{"docs":{},"う":{"docs":{},"だ":{"docs":{},"ろ":{"docs":{},"う":{"docs":{},")":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}},"実":{"docs":{},"行":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}},"引":{"docs":{},"数":{"docs":{},"に":{"docs":{},"し":{"docs":{},"て":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"結":{"docs":{},"果":{"docs":{},"通":{"docs":{},"知":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}},"現":{"docs":{},"在":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"状":{"docs":{},"態":{"docs":{},"を":{"docs":{},"問":{"docs":{},"い":{"docs":{},"合":{"docs":{},"わ":{"docs":{},"せ":{"docs":{},"る":{"docs":{},"形":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}},"提":{"docs":{},"供":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}},"返":{"docs":{},"す":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}},"キ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}},"と":{"docs":{},"い":{"docs":{},"い":{"docs":{},"つ":{"docs":{},"つ":{"docs":{},"、":{"docs":{},"取":{"docs":{},"り":{"docs":{},"出":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"た":{"docs":{},"段":{"docs":{},"階":{"docs":{},"で":{"docs":{},"内":{"docs":{},"容":{"docs":{},"が":{"docs":{},"失":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"わ":{"docs":{},"け":{"docs":{},"で":{"docs":{},"は":{"docs":{},"な":{"docs":{},"い":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"は":{"docs":{},"別":{"docs":{},"に":{"docs":{},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"で":{"docs":{},"き":{"docs":{},"る":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"に":{"docs":{},"し":{"docs":{},"て":{"docs":{},"お":{"docs":{},"く":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}},"は":{"docs":{},"ス":{"docs":{},"ト":{"docs":{},"レ":{"docs":{},"ー":{"docs":{},"ジ":{"docs":{},"に":{"docs":{},"永":{"docs":{},"続":{"docs":{},"化":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}},"部":{"docs":{},"分":{"docs":{},"は":{"docs":{},"一":{"docs":{},"元":{"docs":{},"管":{"docs":{},"理":{"docs":{},"し":{"docs":{},"た":{"docs":{},"い":{"docs":{},"関":{"docs":{},"係":{"docs":{},"上":{"docs":{},"、":{"docs":{},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"ア":{"docs":{},"ウ":{"docs":{},"ト":{"docs":{},"し":{"docs":{},"に":{"docs":{},"く":{"docs":{},"い":{"docs":{},"の":{"docs":{},"で":{"docs":{},"、":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"ス":{"docs":{},"タ":{"docs":{},"イ":{"docs":{},"ル":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}}}}},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}},"の":{"docs":{},"ア":{"docs":{},"ー":{"docs":{},"キ":{"docs":{},"テ":{"docs":{},"ク":{"docs":{},"チ":{"docs":{},"ャ":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}}}}}}}}},"が":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"実":{"docs":{},"行":{"docs":{},"を":{"docs":{},"失":{"docs":{},"敗":{"docs":{},"す":{"docs":{},"る":{"docs":{},"場":{"docs":{},"合":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"を":{"docs":{},"想":{"docs":{},"定":{"docs":{},"す":{"docs":{},"る":{"docs":{},"。":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}},"を":{"docs":{},"正":{"docs":{},"常":{"docs":{},"に":{"docs":{},"終":{"docs":{},"了":{"docs":{},"し":{"docs":{},"た":{"docs":{},"場":{"docs":{},"合":{"docs":{},"、":{"docs":{},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"が":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"キ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{},"に":{"docs":{},"「":{"docs":{},"実":{"docs":{},"行":{"docs":{},"終":{"docs":{},"了":{"docs":{},"」":{"docs":{},"を":{"docs":{},"通":{"docs":{},"知":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"実":{"docs":{},"行":{"docs":{},"中":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}},"結":{"docs":{},"果":{"docs":{},"を":{"docs":{},"通":{"docs":{},"知":{"docs":{},"せ":{"docs":{},"ず":{"docs":{},"に":{"docs":{},"死":{"docs":{},"ん":{"docs":{},"で":{"docs":{},"し":{"docs":{},"ま":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"り":{"docs":{},"、":{"docs":{},"結":{"docs":{},"果":{"docs":{},"通":{"docs":{},"知":{"docs":{},"時":{"docs":{},"に":{"docs":{},"通":{"docs":{},"信":{"docs":{},"が":{"docs":{},"で":{"docs":{},"き":{"docs":{},"な":{"docs":{},"か":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"り":{"docs":{},"、":{"docs":{},"な":{"docs":{},"ど":{"docs":{},"で":{"docs":{},"結":{"docs":{},"果":{"docs":{},"が":{"docs":{},"行":{"docs":{},"方":{"docs":{},"不":{"docs":{},"明":{"docs":{},"に":{"docs":{},"な":{"docs":{},"る":{"docs":{},"場":{"docs":{},"合":{"docs":{},"に":{"docs":{},"そ":{"docs":{},"な":{"docs":{},"え":{"docs":{},"て":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"に":{"docs":{},"よ":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"処":{"docs":{},"理":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"の":{"docs":{},"を":{"docs":{},"待":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"る":{"docs":{},"状":{"docs":{},"態":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}},"参":{"docs":{},"照":{"docs":{},"し":{"docs":{},"た":{"docs":{},"ウ":{"docs":{},"ェ":{"docs":{},"ブ":{"docs":{},"ペ":{"docs":{},"ー":{"docs":{},"ジ":{"docs":{},"の":{"docs":{},"う":{"docs":{},"ち":{"docs":{},"、":{"docs":{},"め":{"docs":{},"ぼ":{"docs":{},"し":{"docs":{},"い":{"docs":{},"と":{"docs":{},"こ":{"docs":{},"ろ":{"docs":{},"を":{"docs":{},"抜":{"docs":{},"粋":{"docs":{"reference.html":{"ref":"reference.html","tf":0.0625}}}}}}}}}}}}}}}}}}}}}}}}},"考":{"docs":{},"文":{"docs":{},"献":{"docs":{"reference.html":{"ref":"reference.html","tf":10.0625}}}}}},"(":{"docs":{},"d":{"docs":{},"b":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}},"g":{"docs":{},"r":{"docs":{},"p":{"docs":{},"c":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}},"コ":{"docs":{},"ネ":{"docs":{},"ク":{"docs":{},"シ":{"docs":{},"ョ":{"docs":{},"ン":{"docs":{},"張":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"り":{"docs":{},"切":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"り":{"docs":{},")":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"ア":{"docs":{},"ウ":{"docs":{},"ト":{"docs":{},")":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"と":{"docs":{},"呼":{"docs":{},"ぶ":{"docs":{},")":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}},"一":{"docs":{},"日":{"docs":{},"と":{"docs":{},"か":{"docs":{},")":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}},"名":{"docs":{},"前":{"docs":{},"微":{"docs":{},"妙":{"docs":{},")":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}},"i":{"docs":{},"d":{"docs":{"memo.html":{"ref":"memo.html","tf":0.031578947368421054}}}},"「":{"docs":{},"実":{"docs":{},"行":{"docs":{},"中":{"docs":{},"」":{"docs":{},"状":{"docs":{},"態":{"docs":{},"は":{"docs":{},"、":{"docs":{},"一":{"docs":{},"定":{"docs":{},"の":{"docs":{},"時":{"docs":{},"間":{"docs":{},"が":{"docs":{},"過":{"docs":{},"ぎ":{"docs":{},"る":{"docs":{},"と":{"docs":{},"解":{"docs":{},"除":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"「":{"docs":{},"実":{"docs":{},"行":{"docs":{},"待":{"docs":{},"ち":{"docs":{},"」":{"docs":{},"に":{"docs":{},"戻":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"い":{"docs":{},"ず":{"docs":{},"れ":{"docs":{},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"が":{"docs":{},"本":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"を":{"docs":{},"リ":{"docs":{},"ト":{"docs":{},"ラ":{"docs":{},"イ":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}},"こ":{"docs":{},"の":{"docs":{},"仕":{"docs":{},"様":{"docs":{},"の":{"docs":{},"た":{"docs":{},"め":{"docs":{},"、":{"docs":{},"「":{"docs":{},"同":{"docs":{},"一":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"は":{"docs":{},"二":{"docs":{},"回":{"docs":{},"以":{"docs":{},"上":{"docs":{},"実":{"docs":{},"行":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"う":{"docs":{},"る":{"docs":{},"」":{"docs":{},"と":{"docs":{},"い":{"docs":{},"う":{"docs":{},"制":{"docs":{},"限":{"docs":{},"が":{"docs":{},"生":{"docs":{},"じ":{"docs":{},"る":{"docs":{},"。":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"と":{"docs":{},"か":{"docs":{},")":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}},"ロ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"ポ":{"docs":{},"ー":{"docs":{},"リ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"と":{"docs":{},"か":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}},"思":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"の":{"docs":{},"で":{"docs":{},"、":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}},"は":{"docs":{},"、":{"docs":{},"必":{"docs":{},"要":{"docs":{},"に":{"docs":{},"応":{"docs":{},"じ":{"docs":{},"て":{"docs":{},"ど":{"docs":{},"ん":{"docs":{},"ど":{"docs":{},"ん":{"docs":{},"増":{"docs":{},"や":{"docs":{},"せ":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}},"ウ":{"docs":{},"ェ":{"docs":{},"ブ":{"docs":{},"ア":{"docs":{},"プ":{"docs":{},"リ":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"シ":{"docs":{},"ョ":{"docs":{},"ン":{"docs":{},"か":{"docs":{},"ら":{"docs":{},"用":{"docs":{},"い":{"docs":{},"る":{"docs":{},"と":{"docs":{},"い":{"docs":{},"う":{"docs":{},"文":{"docs":{},"脈":{"docs":{},"で":{"docs":{},"、":{"docs":{},"様":{"docs":{},"々":{"docs":{},"な":{"docs":{},"非":{"docs":{},"同":{"docs":{},"期":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"実":{"docs":{},"行":{"docs":{},"を":{"docs":{},"行":{"docs":{},"う":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"が":{"docs":{},"で":{"docs":{},"き":{"docs":{},"る":{"docs":{},"仕":{"docs":{},"組":{"docs":{},"み":{"docs":{},"を":{"docs":{},"考":{"docs":{},"え":{"docs":{},"る":{"docs":{},"。":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"エ":{"docs":{},"ラ":{"docs":{},"ー":{"docs":{},"理":{"docs":{},"由":{"docs":{},"を":{"docs":{},"添":{"docs":{},"え":{"docs":{},"る":{"docs":{},"こ":{"docs":{},"と":{"docs":{},"が":{"docs":{},"で":{"docs":{},"き":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"に":{"docs":{},"取":{"docs":{},"り":{"docs":{},"出":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"た":{"docs":{},"ら":{"docs":{},"、":{"docs":{},"そ":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"は":{"docs":{},"「":{"docs":{},"実":{"docs":{},"行":{"docs":{},"中":{"docs":{},"」":{"docs":{},"に":{"docs":{},"状":{"docs":{},"態":{"docs":{},"を":{"docs":{},"変":{"docs":{},"更":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"失":{"docs":{},"敗":{"docs":{},"し":{"docs":{},"た":{"docs":{},"と":{"docs":{},"き":{"docs":{},"に":{"docs":{},"再":{"docs":{},"実":{"docs":{},"行":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"可":{"docs":{},"能":{"docs":{},"性":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"る":{"docs":{},"の":{"docs":{},"で":{"docs":{},"、":{"docs":{},"一":{"docs":{},"度":{"docs":{},"取":{"docs":{},"り":{"docs":{},"出":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"も":{"docs":{},"失":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"な":{"docs":{},"い":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"に":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"場":{"docs":{},"合":{"docs":{},"、":{"docs":{},"か":{"docs":{},"つ":{"docs":{},"リ":{"docs":{},"ト":{"docs":{},"ラ":{"docs":{},"イ":{"docs":{},"回":{"docs":{},"数":{"docs":{},"が":{"docs":{"memo.html":{"ref":"memo.html","tf":0.021052631578947368}}}}}}}}}}}}}}}}}}},"の":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}},"は":{"docs":{},"「":{"docs":{},"正":{"docs":{},"常":{"docs":{},"終":{"docs":{},"了":{"docs":{},"」":{"docs":{},"に":{"docs":{},"状":{"docs":{},"態":{"docs":{},"変":{"docs":{},"更":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}},"以":{"docs":{},"下":{"docs":{},"の":{"docs":{},"状":{"docs":{},"態":{"docs":{},"を":{"docs":{},"持":{"docs":{},"つ":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}},"キ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}},"の":{"docs":{},"プ":{"docs":{},"ロ":{"docs":{},"セ":{"docs":{},"ス":{"docs":{},"が":{"docs":{},"死":{"docs":{},"ん":{"docs":{},"だ":{"docs":{},"と":{"docs":{},"き":{"docs":{},"に":{"docs":{},"、":{"docs":{},"投":{"docs":{},"入":{"docs":{},"済":{"docs":{},"の":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"失":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"な":{"docs":{},"い":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"に":{"docs":{},"す":{"docs":{},"る":{"docs":{},"た":{"docs":{},"め":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"は":{"docs":{},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"が":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"実":{"docs":{},"行":{"docs":{},"に":{"docs":{},"失":{"docs":{},"敗":{"docs":{},"し":{"docs":{},"た":{"docs":{},"回":{"docs":{},"数":{"docs":{},"を":{"docs":{},"記":{"docs":{},"録":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}},"を":{"docs":{},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ル":{"docs":{},"ア":{"docs":{},"ウ":{"docs":{},"ト":{"docs":{},"し":{"docs":{},"や":{"docs":{},"す":{"docs":{},"い":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}},"見":{"docs":{},"張":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"て":{"docs":{},"、":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"が":{"docs":{},"投":{"docs":{},"入":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"れ":{"docs":{},"ば":{"docs":{},"順":{"docs":{},"次":{"docs":{},"取":{"docs":{},"り":{"docs":{},"だ":{"docs":{},"し":{"docs":{},"て":{"docs":{},"実":{"docs":{},"行":{"docs":{},"す":{"docs":{},"る":{"docs":{},"機":{"docs":{},"能":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"取":{"docs":{},"り":{"docs":{},"出":{"docs":{},"し":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}},"実":{"docs":{},"行":{"docs":{},"者":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}},"投":{"docs":{},"入":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}},"か":{"docs":{},"ら":{"docs":{},"実":{"docs":{},"行":{"docs":{},"開":{"docs":{},"始":{"docs":{},"ま":{"docs":{},"で":{"docs":{},"に":{"docs":{},"多":{"docs":{},"少":{"docs":{},"デ":{"docs":{},"ィ":{"docs":{},"レ":{"docs":{},"イ":{"docs":{},"が":{"docs":{},"あ":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"も":{"docs":{},"良":{"docs":{},"い":{"docs":{},"想":{"docs":{},"定":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}},"時":{"docs":{},"に":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"キ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{},"は":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}},"状":{"docs":{},"態":{"docs":{},"変":{"docs":{},"更":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}},"確":{"docs":{},"認":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}},"ポ":{"docs":{},"ー":{"docs":{},"リ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"の":{"docs":{},"ほ":{"docs":{},"う":{"docs":{},"が":{"docs":{},"リ":{"docs":{},"ソ":{"docs":{},"ー":{"docs":{},"ス":{"docs":{},"面":{"docs":{},"で":{"docs":{},"は":{"docs":{},"不":{"docs":{},"利":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}},"メ":{"docs":{},"モ":{"docs":{"memo.html":{"ref":"memo.html","tf":10.010526315789473}}}},"リ":{"docs":{},"ト":{"docs":{},"ラ":{"docs":{},"イ":{"docs":{},"は":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}},"一":{"docs":{},"定":{"docs":{},"期":{"docs":{},"間":{"docs":{},"が":{"docs":{},"過":{"docs":{},"ぎ":{"docs":{},"る":{"docs":{},"と":{"docs":{},"「":{"docs":{},"実":{"docs":{},"行":{"docs":{},"待":{"docs":{},"ち":{"docs":{},"」":{"docs":{},"に":{"docs":{},"戻":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}},"日":{"docs":{},"一":{"docs":{},"回":{"docs":{},"の":{"docs":{},"ポ":{"docs":{},"ー":{"docs":{},"リ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"と":{"docs":{},"か":{"docs":{},"。":{"docs":{},"も":{"docs":{},"っ":{"docs":{},"と":{"docs":{},"頻":{"docs":{},"度":{"docs":{},"が":{"docs":{},"高":{"docs":{},"け":{"docs":{},"れ":{"docs":{},"ば":{"docs":{},"プ":{"docs":{},"ッ":{"docs":{},"シ":{"docs":{},"ュ":{"docs":{},"側":{"docs":{},"の":{"docs":{},"ほ":{"docs":{},"う":{"docs":{},"が":{"docs":{},"遊":{"docs":{},"び":{"docs":{},"時":{"docs":{},"間":{"docs":{},"が":{"docs":{},"少":{"docs":{},"な":{"docs":{},"く":{"docs":{},"て":{"docs":{},"良":{"docs":{},"く":{"docs":{},"な":{"docs":{},"り":{"docs":{},"そ":{"docs":{},"う":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"単":{"docs":{},"位":{"docs":{},"な":{"docs":{},"ど":{"docs":{},"の":{"docs":{},"長":{"docs":{},"い":{"docs":{},"処":{"docs":{},"理":{"docs":{},"が":{"docs":{},"行":{"docs":{},"わ":{"docs":{},"れ":{"docs":{},"る":{"docs":{},"場":{"docs":{},"合":{"docs":{},"、":{"docs":{},"セ":{"docs":{},"ッ":{"docs":{},"シ":{"docs":{},"ョ":{"docs":{},"ン":{"docs":{},"張":{"docs":{},"り":{"docs":{},"っ":{"docs":{},"ぱ":{"docs":{},"な":{"docs":{},"し":{"docs":{},"よ":{"docs":{},"り":{"docs":{},"も":{"docs":{},"ポ":{"docs":{},"ー":{"docs":{},"リ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"の":{"docs":{},"ほ":{"docs":{},"う":{"docs":{},"が":{"docs":{},"仕":{"docs":{},"組":{"docs":{},"み":{"docs":{},"が":{"docs":{},"単":{"docs":{},"純":{"docs":{},"で":{"docs":{},"安":{"docs":{},"定":{"docs":{},"す":{"docs":{},"る":{"docs":{},"と":{"docs":{},"思":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"た":{"docs":{},"め":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"使":{"docs":{},"う":{"docs":{},"側":{"docs":{},"か":{"docs":{},"ら":{"docs":{},"し":{"docs":{},"て":{"docs":{},"み":{"docs":{},"た":{"docs":{},"ら":{"docs":{},"シ":{"docs":{},"ン":{"docs":{},"プ":{"docs":{},"ル":{"docs":{},"に":{"docs":{},"使":{"docs":{},"え":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}},"処":{"docs":{},"理":{"docs":{},"が":{"docs":{},"短":{"docs":{},"い":{"docs":{},"場":{"docs":{},"合":{"docs":{},"は":{"docs":{},"シ":{"docs":{},"ス":{"docs":{},"テ":{"docs":{},"ム":{"docs":{},"側":{"docs":{},"か":{"docs":{},"ら":{"docs":{},"の":{"docs":{},"プ":{"docs":{},"ッ":{"docs":{},"シ":{"docs":{},"ュ":{"docs":{},"で":{"docs":{},"も":{"docs":{},"良":{"docs":{},"さ":{"docs":{},"そ":{"docs":{},"う":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}},"回":{"docs":{},"に":{"docs":{},"満":{"docs":{},"た":{"docs":{},"な":{"docs":{},"い":{"docs":{},"場":{"docs":{},"合":{"docs":{},"、":{"docs":{},"当":{"docs":{},"該":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"状":{"docs":{},"態":{"docs":{},"を":{"docs":{},"「":{"docs":{},"実":{"docs":{},"行":{"docs":{},"待":{"docs":{},"ち":{"docs":{},"」":{"docs":{},"に":{"docs":{},"変":{"docs":{},"更":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"達":{"docs":{},"し":{"docs":{},"て":{"docs":{},"い":{"docs":{},"た":{"docs":{},"場":{"docs":{},"合":{"docs":{},"、":{"docs":{},"当":{"docs":{},"該":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"の":{"docs":{},"状":{"docs":{},"態":{"docs":{},"を":{"docs":{},"「":{"docs":{},"失":{"docs":{},"敗":{"docs":{},"終":{"docs":{},"了":{"docs":{},"」":{"docs":{},"に":{"docs":{},"変":{"docs":{},"更":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"行":{"docs":{},"う":{"docs":{},"と":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}},"失":{"docs":{},"敗":{"docs":{},"の":{"docs":{},"回":{"docs":{},"数":{"docs":{},"は":{"docs":{},"、":{"docs":{},"リ":{"docs":{},"ト":{"docs":{},"ラ":{"docs":{},"イ":{"docs":{},"を":{"docs":{},"行":{"docs":{},"う":{"docs":{},"か":{"docs":{},"ど":{"docs":{},"う":{"docs":{},"か":{"docs":{},"の":{"docs":{},"判":{"docs":{},"断":{"docs":{},"に":{"docs":{},"用":{"docs":{},"い":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}},"終":{"docs":{},"了":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}},"実":{"docs":{},"行":{"docs":{},"が":{"docs":{},"終":{"docs":{},"わ":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"ら":{"docs":{},"、":{"docs":{},"結":{"docs":{},"果":{"docs":{},"を":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"キ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{},"に":{"docs":{},"返":{"docs":{},"す":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}},"中":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}},"待":{"docs":{},"ち":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}},"投":{"docs":{},"入":{"docs":{},"さ":{"docs":{},"れ":{"docs":{},"た":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"は":{"docs":{},"ス":{"docs":{},"ト":{"docs":{},"レ":{"docs":{},"ー":{"docs":{},"ジ":{"docs":{},"に":{"docs":{},"置":{"docs":{},"く":{"docs":{},"な":{"docs":{},"ど":{"docs":{},"し":{"docs":{},"て":{"docs":{},"永":{"docs":{},"続":{"docs":{},"化":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"が":{"docs":{},"順":{"docs":{},"次":{"docs":{},"取":{"docs":{},"り":{"docs":{},"出":{"docs":{},"し":{"docs":{},"て":{"docs":{},"実":{"docs":{},"行":{"docs":{},"す":{"docs":{},"る":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}},"を":{"docs":{},"キ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{},"イ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"し":{"docs":{},"て":{"docs":{},"お":{"docs":{},"く":{"docs":{},"機":{"docs":{},"能":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}},"未":{"docs":{},"分":{"docs":{},"類":{"docs":{},"文":{"docs":{},"書":{"docs":{},"は":{"docs":{},"一":{"docs":{},"旦":{"docs":{},"こ":{"docs":{},"こ":{"docs":{},"に":{"docs":{},"書":{"docs":{},"く":{"docs":{},"。":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}},"概":{"docs":{},"要":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}},"構":{"docs":{},"成":{"docs":{},"は":{"docs":{},"、":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"は":{"docs":{},"い":{"docs":{},"っ":{"docs":{},"た":{"docs":{},"ん":{"docs":{},"キ":{"docs":{},"ュ":{"docs":{},"ー":{"docs":{},"に":{"docs":{},"積":{"docs":{},"み":{"docs":{},"、":{"docs":{},"順":{"docs":{},"次":{"docs":{},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"が":{"docs":{},"処":{"docs":{},"理":{"docs":{},"を":{"docs":{},"行":{"docs":{},"っ":{"docs":{},"て":{"docs":{},"い":{"docs":{},"く":{"docs":{},"モ":{"docs":{},"デ":{"docs":{},"ル":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"正":{"docs":{},"常":{"docs":{},"終":{"docs":{},"了":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}},"結":{"docs":{},"果":{"docs":{},"の":{"docs":{},"問":{"docs":{},"い":{"docs":{},"合":{"docs":{},"わ":{"docs":{},"せ":{"docs":{},"は":{"docs":{},"、":{"docs":{},"利":{"docs":{},"用":{"docs":{},"側":{"docs":{},"は":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}},"通":{"docs":{},"知":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}},"色":{"docs":{},"々":{"docs":{},"な":{"docs":{},"ユ":{"docs":{},"ー":{"docs":{},"ス":{"docs":{},"ケ":{"docs":{},"ー":{"docs":{},"ス":{"docs":{},"に":{"docs":{},"対":{"docs":{},"応":{"docs":{},"す":{"docs":{},"る":{"docs":{},"た":{"docs":{},"め":{"docs":{},"、":{"docs":{},"な":{"docs":{},"る":{"docs":{},"べ":{"docs":{},"く":{"docs":{},"特":{"docs":{},"定":{"docs":{},"用":{"docs":{},"途":{"docs":{},"に":{"docs":{},"寄":{"docs":{},"ら":{"docs":{},"な":{"docs":{},"い":{"docs":{},"設":{"docs":{},"計":{"docs":{},"に":{"docs":{},"し":{"docs":{},"た":{"docs":{},"い":{"docs":{},"と":{"docs":{},"考":{"docs":{},"え":{"docs":{},"る":{"docs":{},"。":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},"複":{"docs":{},"数":{"docs":{},"の":{"docs":{},"ワ":{"docs":{},"ー":{"docs":{},"カ":{"docs":{},"ー":{"docs":{},"が":{"docs":{},"同":{"docs":{},"じ":{"docs":{},"ジ":{"docs":{},"ョ":{"docs":{},"ブ":{"docs":{},"を":{"docs":{},"実":{"docs":{},"行":{"docs":{},"し":{"docs":{},"な":{"docs":{},"い":{"docs":{},"よ":{"docs":{},"う":{"docs":{},"に":{"docs":{},"す":{"docs":{},"る":{"docs":{},"た":{"docs":{},"め":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}}}}}}}}}},"見":{"docs":{},"張":{"docs":{},"り":{"docs":{},"方":{"docs":{},"は":{"docs":{},"ポ":{"docs":{},"ー":{"docs":{},"リ":{"docs":{},"ン":{"docs":{},"グ":{"docs":{},"か":{"docs":{},"プ":{"docs":{},"ッ":{"docs":{},"シ":{"docs":{},"ュ":{"docs":{},"型":{"docs":{},"で":{"docs":{},"も":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}}}}}}}}}}}},"設":{"docs":{},"計":{"docs":{},"で":{"docs":{},"考":{"docs":{},"え":{"docs":{},"た":{"docs":{},"点":{"docs":{"memo.html":{"ref":"memo.html","tf":0.010526315789473684}}}}}}}}}},"length":110},"corpusTokens":["(db","(grpc","(コネクション張ったり切ったり)","(スケールアウト)","(ワーカーと呼ぶ)","(一日とか)","(名前微妙)","5","api","aw","doc","id","microsoft","sq","web","websocket","worker","|","「実行中」状態は、一定の時間が過ぎると解除されて「実行待ち」に戻る","〜","いずれワーカーが本ジョブをリトライする","この仕様のため、「同一のジョブは二回以上実行されうる」という制限が生じる。","できるように","でも使えるような想定","でジョブ","とか)","とかロングポーリングとか","と思われるので、","のでスケールアウトしにくいという想定","の巻","は、必要に応じてどんどん増やせる","を使うだろう)","を実行する","を引数にしてジョブの結果通知","を引数にして現在のジョブの状態を問い合わせる形","を提供する","を構成するベストプラクティス","を返す","ウェブアプリケーションから用いるという文脈で、様々な非同期ジョブ実行を行うことができる仕組みを考える。","エラー理由を添えることができる","キュー","キューといいつつ、取り出された段階で内容が失われるわけではない","キューとワーカーは別にスケールできるようにしておく","キューはストレージに永続化する","キュー部分は一元管理したい関係上、スケールアウトしにくいので、","システム側からのプッシュではなく利用側からのポーリングによって行うことを想定","システム管理者にメールを送信する","シーケンス図","ジョブがワーカーに取り出されたら、そのジョブは「実行中」に状態を変更する","ジョブが失敗したときに再実行される可能性があるので、一度取り出されても失われないようにする","ジョブが失敗した場合、かつリトライ回数が","ジョブの","ジョブは「正常終了」に状態変更される","ジョブは以下の状態を持つ","ジョブキュー","ジョブキューのプロセスが死んだときに、投入済のジョブが失われないようにするため","ジョブキューはワーカーがジョブの実行に失敗した回数を記録する","ジョブキューをスケールアウトしやすい","ジョブキューを見張っていて、ジョブが投入されていれば順次取りだして実行する機能","ジョブ取り出し","ジョブ実行者","ジョブ投入","ジョブ投入から実行開始までに多少ディレイがあっても良い想定","ジョブ投入時にジョブキューはジョブの","ジョブ状態変更","ジョブ状態確認","スタイル","ポーリングのほうがリソース面では不利","メモ","モジュール構成図","ユースケース","リトライは","ワーカー","ワーカーがジョブの実行を失敗する場合があることを想定する。","ワーカーがジョブを正常に終了した場合、ワーカーがジョブキューに「実行終了」を通知する","ワーカーが実行中のジョブ","ワーカーが結果を通知せずに死んでしまったり、結果通知時に通信ができなかったり、などで結果が行方不明になる場合にそなえて","ワーカーによって処理されるのを待っている状態のジョブ","ワーカーのアーキテクチャ","一定期間が過ぎると「実行待ち」に戻る","一日一回のポーリングとか。もっと頻度が高ければプッシュ側のほうが遊び時間が少なくて良くなりそう","一日単位などの長い処理が行われる場合、セッション張りっぱなしよりもポーリングのほうが仕組みが単純で安定すると思ったため","使う側からしてみたらシンプルに使える","処理が短い場合はシステム側からのプッシュでも良さそう","参照したウェブページのうち、めぼしいところを抜粋","参考文献","回に満たない場合、当該ジョブの状態を「実行待ち」に変更する","回に達していた場合、当該ジョブの状態を「失敗終了」に変更する","回行うとする","失敗の回数は、リトライを行うかどうかの判断に用いる","失敗終了","実行が終わったら、結果をジョブキューに返す","実行中","実行待ち","投入されたジョブはストレージに置くなどして永続化する","投入されたジョブはワーカーが順次取り出して実行する","投入されたジョブをキューイングしておく機能","未分類文書は一旦ここに書く。","本資料について","概要","構成は、ジョブはいったんキューに積み、順次ワーカーが処理を行っていくモデル","正常終了","結果の問い合わせは、利用側はジョブ","結果通知","色々なユースケースに対応するため、なるべく特定用途に寄らない設計にしたいと考える。","複数のワーカーが同じジョブを実行しないようにするため","見張り方はポーリングかプッシュ型でも","設計で考えた点","非同期ジョブ実行システムの基盤ということで、ジョブがそれなりに時間が掛かる","非同期ジョブ実行システム設計"],"pipeline":["stopWordFilter","stemmer"]},"store":{"./":{"url":"./","title":"本資料について","keywords":"","body":"本資料について\n"},"design.html":{"url":"design.html","title":"非同期ジョブ実行システム設計","keywords":"","body":"非同期ジョブ実行システム設計\nユースケース\nモジュール構成図\n\nシーケンス図\n\n"},"reference.html":{"url":"reference.html","title":"参考文献","keywords":"","body":"参考文献\n参照したウェブページのうち、めぼしいところを抜粋\n\nAWS でジョブ Worker を構成するベストプラクティス 〜 SQS の巻\nWeb キュー ワーカーのアーキテクチャ スタイル | Microsoft Docs\n\n"},"memo.html":{"url":"memo.html","title":"メモ","keywords":"","body":"メモ\n未分類文書は一旦ここに書く。\n設計で考えた点\n概要\n\nウェブアプリケーションから用いるという文脈で、様々な非同期ジョブ実行を行うことができる仕組みを考える。\n\n色々なユースケースに対応するため、なるべく特定用途に寄らない設計にしたいと考える。\n構成は、ジョブはいったんキューに積み、順次ワーカーが処理を行っていくモデル\n\n\n使う側からしてみたらシンプルに使える API を提供する\n\nジョブ投入\nジョブ取り出し\nジョブ状態確認\nジョブ状態変更\n\n\n非同期ジョブ実行システムの基盤ということで、ジョブがそれなりに時間が掛かる (一日とか) でも使えるような想定\n\nジョブ実行者 (ワーカーと呼ぶ) は、必要に応じてどんどん増やせる (スケールアウト) できるように\n\nキュー部分は一元管理したい関係上、スケールアウトしにくいので、\nキューとワーカーは別にスケールできるようにしておく\n\n\nキューはストレージに永続化する (DB を使うだろう) のでスケールアウトしにくいという想定\n\n\nジョブキュー (名前微妙)\n\n投入されたジョブをキューイングしておく機能\n\n投入されたジョブはワーカーが順次取り出して実行する\n\n\n投入されたジョブはストレージに置くなどして永続化する\n\nジョブキューのプロセスが死んだときに、投入済のジョブが失われないようにするため\nジョブキューをスケールアウトしやすい\n\n\nジョブは以下の状態を持つ\n\n実行待ち\n\nワーカーによって処理されるのを待っている状態のジョブ\n\n\n実行中\n\nワーカーが実行中のジョブ\n一定期間が過ぎると「実行待ち」に戻る\n\n\n正常終了\n\n失敗終了\nエラー理由を添えることができる\n\n\n\n\nキューといいつつ、取り出された段階で内容が失われるわけではない\n\nジョブが失敗したときに再実行される可能性があるので、一度取り出されても失われないようにする\nジョブがワーカーに取り出されたら、そのジョブは「実行中」に状態を変更する\n\n複数のワーカーが同じジョブを実行しないようにするため\n「実行中」状態は、一定の時間が過ぎると解除されて「実行待ち」に戻る\nワーカーが結果を通知せずに死んでしまったり、結果通知時に通信ができなかったり、などで結果が行方不明になる場合にそなえて\nこの仕様のため、「同一のジョブは二回以上実行されうる」という制限が生じる。\n\n\n\n\nワーカーがジョブを正常に終了した場合、ワーカーがジョブキューに「実行終了」を通知する\n\nジョブは「正常終了」に状態変更される\n\n\n\n\nワーカーがジョブの実行を失敗する場合があることを想定する。\n\nジョブキューはワーカーがジョブの実行に失敗した回数を記録する\n失敗の回数は、リトライを行うかどうかの判断に用いる\n\nリトライは 5 回行うとする\nジョブが失敗した場合、かつリトライ回数が 5 回に満たない場合、当該ジョブの状態を「実行待ち」に変更する\n\nいずれワーカーが本ジョブをリトライする\n\n\nジョブが失敗した場合、かつリトライ回数が 5 回に達していた場合、当該ジョブの状態を「失敗終了」に変更する\n\nシステム管理者にメールを送信する\n\n\n\n\n\n\n\nワーカー\n\nジョブキューを見張っていて、ジョブが投入されていれば順次取りだして実行する機能\n見張り方はポーリングかプッシュ型でも (gRPC とかロングポーリングとか WebSocket とか)\n\nジョブ投入から実行開始までに多少ディレイがあっても良い想定\n一日一回のポーリングとか。もっと頻度が高ければプッシュ側のほうが遊び時間が少なくて良くなりそう\n\n\n実行が終わったら、結果をジョブキューに返す\n\nジョブの ID を引数にしてジョブの結果通知 API を実行する\n\n\n\n結果通知\n\nシステム側からのプッシュではなく利用側からのポーリングによって行うことを想定\n一日単位などの長い処理が行われる場合、セッション張りっぱなしよりもポーリングのほうが仕組みが単純で安定すると思ったため\nポーリングのほうがリソース面では不利 (コネクション張ったり切ったり) と思われるので、\n処理が短い場合はシステム側からのプッシュでも良さそう\nジョブ投入時にジョブキューはジョブの ID を返す\n結果の問い合わせは、利用側はジョブ ID を引数にして現在のジョブの状態を問い合わせる形\n\n\n\n"}}}